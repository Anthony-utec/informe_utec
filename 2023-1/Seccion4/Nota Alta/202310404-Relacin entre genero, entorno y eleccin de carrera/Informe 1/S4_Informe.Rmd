---
title: "S4 “Relación entre género, entorno y elección de carrera de los estudiantes de ingeniería y ciencias de la universidad  UTEC.”"
date: "`r Sys.Date()`"
output:  
  html_document:
    number_sections: true
    toc: true
    toc_float: true
    df_print: paged

---


# Introducción

## Objetivo general:

-Analizar la relación entre el género, entorno y elección de carrera de los estudiantes de ingeniería y ciencias en UTEC.

## Objetivos:
- Identificar las carreras de ingeniería con mayor presencia femenina y masculina.
- Determinar los factores que influyen en la elección de carrera de los estudiantes de ingeniería, según su género.
- Buscar un patrón en la relación entre la elección de carrera y el rendimiento académico de los estudiantes de ingeniería, según su género.
- Identificar las principales barreras que los estudiantes perciben para el acceso y permanencia de los estudiantes en carreras de ingeniería.
- Analizar las causas que influyen en la elección de carrera en relación con su género y su entorno.
- Analizar el porcentaje de alumnos que consideran cambiar de carrera


Delimitados: Alumnos que han superado los cursos de primer ciclo de universidad

## Relevancia: 

Nuestro proyecto aborda la relación entre género, entorno y elección de carrera en estudiantes de ingeniería y ciencias en la Universidad UTEC. Comprender cómo estos factores influyen en la elección de carrera es fundamental para promover la equidad de género y la diversidad en estas áreas. Además, la elección de carrera es una decisión importante que afecta la vida de los estudiantes a largo plazo, y los resultados del proyecto pueden ayudar a la universidad a mejorar la experiencia educativa.

## Contexto:

Este estudio se lleva a cabo en la Universidad de Ingeniería y Tecnología (UTEC) para examinar cómo el género y el entorno pueden influir en la elección de carrera de los estudiantes de ingeniería y ciencias. Se basa en investigaciones previas que indican que estos factores pueden jugar un papel importante en la elección de carrera, pero se enfoca específicamente en el contexto de UTEC para llenar un vacío en el entendimiento actual.


## Variables:

| Variable | Tipo de Variable | Descripción |
|:---------|:---:|:------------|
| Promedio primer ciclo | Variable Numérica continua |Mediante este, obtenemos todos los promedios, el mayor, medio y menor|
| Créditos ciclo pasado | Variable Numérica discreta |Indica la cantidad de créditos que lleva un estudiante en un ciclo|
| Promedio ciclo pasado | Variable Numérica continua |Determina e promedio del ciclo pasado de cada estudiante, el máximo, media y mínimo|
| Numero decursos | Variable Numérica discreta | Indica la cantidad de cursos que cursa un estudiante durante el ciclo|
|Rendimiento académico | Variable Categórica ordinal |Indica el rendimiento académico, desde el inicio hasta el ciclo que se encuentran|
| Considera predominancia masculina | Variable categórica nominal | Son las carreras las cuales el individuo encuestado cree que existe una predominancia del sexo masculino notoria|
| Considera predominancia femenina | Variable categórica nominal | Son las carreras las cuales el individuo encuestado cree que existe una predominancia del sexo femenino notoria|
| Factores elección de carrera | Variable categórica ordinal | Los factores por los cuales el individuo encuestado ha elegido su carrera y las alternativas se han segmentado en razones Sociales, Interpersonal y otros|
| Considero cambiar de carrera | Variable categórica nominal | Responde a si el individuo ha considerado cambiarse de carrera puede elegir entre Sí y No|
| Carrera considero cambiarse | Variable categórica nominal | Si el individuo considero cambiarse de carrera elige entre las carreras de utec a las cuales tuvo la intención|
| Considero cambiarse de carrera | Variable categórica nominal | Responde a si el individuo ha considerado retirarse de la universidad puede elegir entre Sí y No|
| Razones considero retirarse universidad | Variable categórica nominal | El individuo elige la o las razones por las pensaron en retirarse de la universidad |

# Datos

## Recolección de Datos

El método de recolección de datos usado para este estudio, es de el de las encuestas cerradas, que normalmente son utilizados con la finalidad de recopilar datos autoinformados, lo que significa que cada encuestado proporciona información en tiempo real, para ello nos apoyamos del google forms que nos permite  crear encuestas y cuestionarios para cada usuario con sus respectivas delimitaciones.
Luego nos centramos en distribuir cada pregunta en el formato de acuerdo a nuestros objetivos, donde un cuestionario es una variable diferente para el desarrollo del estudio, de los cuales llegamos a tener 16 cuestionarios lo que significa que tenemos 16 variables para el desarrollo del proyecto.
Posteriormente empezamos a expandir el formulario por toda las comunidad de UTEC, mediante redes sociales (whatsapp, facebook, telegram), también incluir que se ha creado un código QR, lo que nos permite establecernos en el piso 1, piso 6 y piso 11, donde hay más aglomeración de estudiantes y realizar encuestas a cada estudiante de manera más directa, con el objetivo de llegar a la cantidad máxima de datos recopilados, de los cuales obtuvimos 170 datos encuestados.
Finalmente todos los datos recopilados mediante el forms, se descarga en formato csv, para seguir con el proceso a continuación.


## Encuestas 

De acuerdo a lo mencionado anteriormente usamos la encuesta como medio de recolección,  este método implica formular una serie de preguntas que se presentan a los participantes, cabe mencionar que realizamos preguntas en línea y nos apoyamos del google forms.
Aquí, los participantes eligen una respuesta de una lista predeterminada. Las opciones pueden ser de "sí/no", de opción múltiple o escalas de calificación (como el Likert), entre otros. 
Para no tener datos erróneos o información inservible o de exceso, se han realizado las restricciones posibles y necesarias para cada pregunta y por supuesto obtener información única de cada estudiante (que no se repita).
Optamos por los googles forms,  ya que nos ofrece una serie de ventajas que lo convierten en una opción atractiva para realizar encuestas. Este es de fácil uso, lo podemos personalizar de acuerdo a nuestra preferencia y recopilar datos en tiempo real, integra herramientas que nos permite restringir y así obtener información que nos permita desarrollar el proceso de manera eficaz y menos trabajoso, por otro lado es de manera compatible con cualquier dispositivo como tablet, celular, laptop, etc. finalmente nos permite obtener datos de carácter seguro y privado.

## Población, muestra y muestreo

**Población:** Para el desarrollo del proyecto, tomamos como población de estudio a todos los estudiantes en todas las carreras de UTEC, vigentes durante el periodo 2023-1, desde el ciclo I hasta el ciclo X.

**Muestra:** De acuerdo a los resultados de la recopilación de datos, tenemos 170 encuestas obtenidas, que representan la muestra para este caso. 

**Muestreo:**  Para el desarrollo de este proyecto tenemos el tipo de muestreo por conveniencia de tipo no probabilístico, ya que enviamos el link mediante las redes sociales, amigos, grupo de amigos, sección de clases, etc.

```{r, message=FALSE, warning=FALSE, echo=FALSE}
library(dplyr)
library(readr)
library(crayon)
library(DescTools)
library(magrittr)
library(ggplot2)
library(modeest)
library(janitor)
```
```{r, message=FALSE, warning=FALSE, echo=FALSE}
pkg_list <- c("dplyr", "ggplot2", "readr") 
install_missing <- function(pkgs) {
  new_pkgs <- pkgs[!(pkgs %in% installed.packages()[,"Package"])]
  if (length(new_pkgs)) 
    install.packages(new_pkgs, dependencies = TRUE)
}
install_missing(pkg_list)

```

```{r, message=FALSE, warning=FALSE, echo=FALSE}
data<-read.csv("BaseDeDatosLimpia.csv")
DF<-read_csv("BaseDeDatosLimpia.csv")
```


## Limpieza de datos

Decidimos eliminar todas las observaciones de alumnos que estén aun en 1er ciclo, debido a que esto incapacitaba al estudiante de contestar a algunas de las preguntas las cuales no darían variables, ademas se eliminaron valores atípicos en edad como el valor de 188 o 12 ya que son valores irracionales, también se hizo un ajuste de nombre de la variable Considera_predominancia_femenino ya que hubo una diferencia de mayúsculas comparada con la variable Considera_predominancia_masculino, corregimos algunos N.A. debido a la falta de respuesta de razones_considero_retirarse_universdad y carrera_considero_cambiarse, dejaban en blanco la variable: considero_cambiar_de_carrera y considero_retirarse_universdad ya que algunos no lo habían considerado y por eso de cambio la respuesta a "No". también quitamos las observaciones con respuesta de "Prefiero no decirlo", ya que dentro de los objetivos del proyecto esta relacionar distintos factores con el género de la persona. se pueden observar los códigos de la limpieza en el archivo llamado: "LimpiezaBaseDeDatos"


---------------------------------------------------------------------------------------------------------------------------------



# Análisis descriptivo
## Descriptores univariados

- De variables como:  Genero, edad, carrera, ciclo_actual


### Variable Créditos del ciclo pasado


```{r, message=FALSE, warning=FALSE, echo=FALSE}
colores <- c("#FF7F00", "#1F78B4", "#33A02C", "#E31A1C", "#6A3D9A", "#B15928")

boxplot(data$Creditos_ciclo_pasado, col = colores,
        main = "Créditos del ciclo pasado")
title(main = "", 
      col.main = "#1F3552",
      col.sub = "#1F3552",
      font.main = 1,
      font.sub = 3)
summary_data <- summary(data$Creditos_ciclo_pasado)
summary_matrix <- matrix(c(
  "Mínimo:", round(summary_data[1], 2),
  "1er Cuartil:", round(summary_data[2], 2),
  "Mediana:", round(summary_data[3], 2),
  "Media:", round(summary_data[4], 2),
  "3er Cuartil:", round(summary_data[5], 2),
  "Máximo:", round(summary_data[6], 2)
), ncol = 2, byrow = TRUE)
interpretacion <- c(
  "Mínimo de créditos llevados.",
  "el 25% ha llevado 19 créditos.",
  "La mitad llevó 20 créditos.",
  "El promedío de créditos llevados",
  "el 75% llevó 21 créditos",
  "el máximo de créditos llevados."
)
summary_matrix <- cbind(Descriptor =summary_matrix[, 1], Resultado = summary_matrix[, 2], Interpretacion = interpretacion)
rownames(summary_matrix) <- c("1", "2", "3", "4", "5", "6")
print(summary_matrix, quote = FALSE)

```

En este gráfico se demuestra que como máximo de créditos llevados en la universidad durante el ciclo pasado es el 25% que es de 26 créditos, de los cuales como mínimo se llevó el 25% es de 11 créditos, por otro lado en la gráfica apreciamos que el 50 % de estudiantes llevó en una mediana de 20 créditos y el 75% llevó a lo mucho 21 créditos, finalmente podemos concluir, que la gran mayoría de los estudiantes  llevaron  entre 19 a 21 créditos durante el ciclo 2022-2.


## Variable promedio del ciclo pasado 


```{r, message=FALSE, warning=FALSE, echo=FALSE}
boxplot(data$Promedio_ciclo_pasado, main = "Boxplot - Promedio Ciclo Pasado", col = "blue")
promedio_ciclo_pasado <- summary(data$Promedio_ciclo_pasado)

summary_data <- summary(data$Promedio_ciclo_pasado)
cv <- round(sd(data$Promedio_ciclo_pasado) / mean(data$Promedio_ciclo_pasado) * 100, 2)
sd <- round(sd(data$Promedio_ciclo_pasado), 2)
summary_matrix <- matrix(c(
  "Mínimo:", round(summary_data[1], 2),
  "1er Cuartil:", round(summary_data[2], 2),
  "Mediana:", round(summary_data[3], 2),
  "Media:", round(summary_data[4], 2),
  "3er Cuartil:", round(summary_data[5], 2),
  "Máximo:", round(summary_data[6], 2),
  "Desviación Estándar:", sd,
  "Coeficiente de Variación:", cv
), ncol = 2, byrow = TRUE)

interpretacion <- c(
  "Mínima nota del ciclo pasado.",
  "El 25% obtuvo 13.39 de nota promedio.",
  "como media se obtuvo 14.43 de nota.",
  "El promedio del es de 14.54 de nota.",
  "El 75% tuvo 15.59 de promedio de nota.",
  "Máximo del promedio de nota es 20.",
  "La desviación estándar.",
  "El coeficiente de variación."
)
summary_matrix <- cbind(Descriptor = summary_matrix[, 1], Resultado = summary_matrix[, 2], Interpretacion = interpretacion)
rownames(summary_matrix) <- c("1", "2", "3", "4", "5", "6", "7", "8")
print(summary_matrix, quote = FALSE)

```


Definimos mediante este gráfico, que el promedio más alto fue de 20 en un 25% del máximo, el 50% de los alumnos obtuvieron una nota promedio de 14.38, el 25% del mínimo obtuvo una nota de 10.7,  el 75% de los estudiantes de la universidad, el ciclo pasado obtuvieron la nota de 15.58 de nota como promedio del ciclo, finalmente se concluye que mayormente la nota del promedio final del ciclo está entre 13.19 y 15.58.



## Variable número de cursos


```{r, message=FALSE, warning=FALSE, echo=FALSE}
hist(data$Numero_de_cursos, 
     main = "Frecuencia de los números de cursos", 
     col = "skyblue", 
     border = "white",
     xlab = "Número de cursos",
     ylab = "Frecuencia",
     breaks = "Sturges")
summary_data <- summary(data$Numero_de_cursos)


minimo <- min(data$Numero_de_cursos)
media <- mean(data$Numero_de_cursos)
maximo <- max(data$Numero_de_cursos)
summary_matrix <- matrix(c(
  "Mínimo:", round(minimo, 2),
  "Media:", round(media, 2),
  "Máximo:", round(maximo, 2)
), ncol = 2, byrow = TRUE)
interpretacion <- c(
  "Mínimo del número de cursos.",
  "Media del número de cursos.",
  "Máximo del número de cursos."
)
summary_matrix <- cbind(Descriptor = summary_matrix[, 1], Resultado = summary_matrix[, 2], Interpretacion = interpretacion)
rownames(summary_matrix) <- c("1", "2", "3")
print(summary_matrix, quote = FALSE)

```
En esta gráfica mostramos que la mayoría de los estudiantes llevaron 6 créditos, dentro de ello existe que un grupo de estudiantes como mínimo que llevó 2 cursos considerado como mínimo, podemos ver también que encontramos un pequeño grupo de estudiantes que llevó 8 cursos lo cual considerando que el el máximo.


## Variable sobre rendimiento académico


```{r, message=FALSE, warning=FALSE, echo=FALSE}
if(!"Rendimiento_academico" %in% names(data)) {
  stop("La columna 'Rendimiento_academico' no se encuentra en el conjunto de datos.")
}
tabla_frecuencia <- table(data$Rendimiento_academico)
if(length(tabla_frecuencia) == 0) {
  stop("No hay datos para generar el gráfico.")
}
bp <- barplot(tabla_frecuencia, col = rainbow(length(tabla_frecuencia)), ylim = c(0, max(tabla_frecuencia) * 1.15), xaxt = "n")
title(main = "Frecuencia de Rendimiento Académico", xlab = "Rendimiento", ylab = "Estudiates")
text(bp, tabla_frecuencia, labels = tabla_frecuencia, pos = 3, cex = 0.8, col = "black")
axis(1, at = bp, labels = names(tabla_frecuencia), las = 2, cex.axis = 0.7)
mtext(paste("Total de estudiantes: ", sum(tabla_frecuencia)), side = 1, line = 4, adj = 1)

data$Rendimiento_academico <- as.character(data$Rendimiento_academico)
tabla_frecuencias <- table(data$Rendimiento_academico)
tabla_frecuencias_df <- as.data.frame(tabla_frecuencias)
names(tabla_frecuencias_df) <- c("Rendimiento Académico", "Frecuencia")
tabla_frecuencias_df <- tabla_frecuencias_df[order(tabla_frecuencias_df$`Rendimiento Académico`), ]
print(tabla_frecuencias_df)

```

Mediante este gráfico mostramos que a 93 estudiantes de la universidad, les va regular y a 5 estudiantes les va muy bueno y a 6 estudiantes les va mal, finalmente a 58 estudiantes les va de manera buena.




## Análisis descriptivo bivariado

### Frecuencias absolutas y relativas de la variable género 

```{r, message=FALSE, warning=FALSE, echo=FALSE}
n=length(DF$Genero)
n.i<- table(DF$Genero)
n.i

f.i<-round(prop.table(table(DF$Genero)),digits=2)
f.i

mo<-which.max(table(DF$Genero))
mo
```





### Frecuencias absolutas y relativas de la edad

```{r,  message=FALSE, warning=FALSE, echo=FALSE}
n=length(DF$Edad)
n
n.i<-table(DF$Edad)
n.i
f.i<-(round(table(DF$Edad)/n, digits=2)*100)
f.i

mo<-which.max(table(DF$Edad))
mo
```


### Frecuencias absoluta y relativas de la variable carrera
```{r, message=FALSE, warning=FALSE, echo=FALSE}
n=length(DF$Carrera)
n
n.i<-table(DF$Carrera)
n.i
f.i<-round(table(DF$Carrera)/n, digits=2)
f.i
mo<-which.max(table(DF$Carrera))
mo
```


### Frecuencias absoluta y relativas de la variable Ciclo_actual
```{r,  message=FALSE, warning=FALSE, echo=FALSE}
n=length(DF$Ciclo_actual)
n
n.i<-table(DF$Ciclo_actual)
n.i
f.i<-round(table(DF$Ciclo_actual)/n, digits=2)
f.i
mo<-which.max(table(DF$Ciclo_actual))
mo
```

### Frecuencias absolutas y relativas de la promedio_primer_ciclo

```{r, message=FALSE, warning=FALSE, echo=FALSE}
n=length(DF$Promedio_primer_ciclo)
table(cut(DF$Promedio_primer_ciclo, breaks=seq(from=8,to=20, by=2)))
round(table(cut(DF$Promedio_primer_ciclo, breaks=seq(from=8,to=20, by=2)))/n, digits=2)
Mo_PPC=14+(2*(69-49))/((69-49)+(69-35))
round(Mo_PPC, digits=2)
mean(DF$Promedio_primer_ciclo)
median(DF$Promedio_primer_ciclo)
summary(DF$Promedio_primer_ciclo)
boxplot(DF$Promedio_primer_ciclo, col="red")
abline(h=mean(DF$Promedio_primer_ciclo), col="green")
abline(h=Mo_PPC, col="blue")
boxplot(DF$Promedio_primer_ciclo~DF$Genero, col="red")
abline(h=mean(DF$Promedio_primer_ciclo[DF$Genero=="Femenino"]),col="pink")
hist(DF$Promedio_primer_ciclo, breaks = 6, main = "HISTOGRAMA DEL PROMEDIO DE NOTAS DEL PRIMER CICLO", xlab= "Promedio de notas", ylab="Frecuencia absoluta", freq = FALSE, ylim = c(0,0.3))
lines(density(DF$Promedio_primer_ciclo), col="black",lwd=2)

abline(v=mean(DF$Promedio_primer_ciclo), col="green")
abline(v=Mo_PPC, col="blue")
abline(v=median(DF$Promedio_primer_ciclo), col="red")
abline(v=quantile(DF$Promedio_primer_ciclo, 0.25), col="black")
abline(v=quantile(DF$Promedio_primer_ciclo, 0.75), col="pink")
```
puntos blancos son datos atípico





###  Identificar las carreras de ingeniería con mayor presencia femenina y masculino



```{r, message=FALSE, warning=FALSE, echo=FALSE}
predomina_masc<-data$Considera_predominancia_masculino
carreras<-c()
for (f in predomina_masc){
  for (v in c(strsplit(f,", "))){
    carreras<-c(carreras,v)
  }
}
carreras<-as.data.frame(carreras)
carreras %>% group_by(carreras) %>% summarise(cantidad = n())->pre_carrera_masc

predomina_fem<-data$Considera_predominancia_femenino
carreras<-c()
for (f in predomina_fem){
  for (v in c(strsplit(f,", "))){
    carreras<-c(carreras,v)
  }
}
carreras<-as.data.frame(carreras)
carreras %>% group_by(carreras) %>% summarise(cantidad = n())->pre_carrera_fem
pre_carrera_masc$Genero <- "Masculino"
pre_carrera_fem$Genero <- "Femenino"
pre_carreras <- rbind(pre_carrera_masc, pre_carrera_fem)
# Calcula los porcentajes por carrera y género
pre_carreras <- pre_carreras %>%
  group_by(carreras) %>%
  mutate(porcentaje = cantidad / sum(cantidad) * 100)

# Calcula los porcentajes totales por género
porcentaje_total <- pre_carreras %>%
  group_by(Genero) %>%
  summarise(total = sum(cantidad)) %>%
  mutate(porcentaje_total = total / sum(total) * 100)

# Crea el gráfico
p <- ggplot(pre_carreras, aes(x = carreras, y = cantidad, fill = Genero)) +
  geom_bar(stat = "identity", position = "dodge") +
  geom_text(aes(label = paste0(round(porcentaje, 1), "%")), position = position_dodge(width = 0.9), vjust = -0.25, size = 2) +
  scale_fill_manual(values = c("Femenino" = "pink", "Masculino" = "blue"),
                    labels = c(paste("Femenino (", round(porcentaje_total[porcentaje_total$Genero == "Femenino", "porcentaje_total"], 1), "%)"),
                               paste("Masculino (", round(porcentaje_total[porcentaje_total$Genero == "Masculino", "porcentaje_total"], 1), "%)")),
                    name = "Género") +
  labs(x = "Carreras", y = "Cantidad") +
  ggtitle("Predominancia en las carreras universitarias de UTEC") +
  theme_bw() +
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 0.1))
print(p)


```


El gráfico de barras creado, visualiza la predominancia de género en diferentes carreras universitarias en UTEC. Las carreras se enumeran a lo largo del eje x, mientras que el número de estudiantes está en el eje y. Cada carrera tiene dos barras, una para cada género (masculino y femenino), y el color de la barra indica el género. La altura de cada barra representa el número de estudiantes de ese género en la carrera correspondiente.
En la leyenda del gráfico se muestra el porcentaje total de estudiantes femeninas y masculinas, esto permite comparar rápidamente la cantidad y proporción de estudiantes en cada carrera. De los cuales tenemos que el 50.4% de la población son masculino mientras que 49.6% son femeninos, deduciendo de que existe una predominancia masculino dentro del campus universitario.
Este tipo de análisis nos permite identificar carreras que están dominadas por un género específico o para evaluar la equidad de género en la institución. Sin embargo, también es importante recordar que la equidad de género en la educación no solo se trata de números y proporciones. También es fundamental considerar factores como el acceso a oportunidades, el trato equitativo y la creación de un entorno inclusivo y de apoyo para todos los estudiantes.



