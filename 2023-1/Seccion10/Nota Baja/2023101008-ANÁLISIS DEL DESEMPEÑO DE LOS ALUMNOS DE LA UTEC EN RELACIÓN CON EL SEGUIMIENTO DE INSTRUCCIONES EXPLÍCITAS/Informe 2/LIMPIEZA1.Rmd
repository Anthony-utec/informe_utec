---
title: "Limpieza 1"
author: "Camila Altez"
format: html
editor: visual
---

## LIMPIEZA 1

**Propósito:** Tener una base óptimamente limpia para analizar las variables relacionadas a la moda de los participantes.

```{r}
tabla_1<-FORMS_1
tabla_1<-data.frame(cbind(tabla_1[3:15], tabla_1[19:21]))
tabla_1<-data.frame(cbind(tabla_1[1:4], tabla_1[6:16]))
names(tabla_1)<-c("Hora1","Nombre","Talla","Peso","Carrera","Cantidad1","Edad","Río","Animal", "Pisa","País","Planeta","Confirmación","Casilla","hora2")
tabla_1
```

**Limpieza Nombre**

```{r}
library(stringr)
tabla_1$Nombre <- str_to_title(tabla_1$Nombre)
```

**Limpieza talla**

```{r}
tabla_1$Talla <- gsub("[^[:digit:]]", "", tabla_1$Talla)
tabla_1$Talla[tabla_1$Talla == "37"]<- NA
tabla_1$Talla[tabla_1$Talla == "285"]<- 185
tabla_1$Talla[tabla_1$Talla == "17"]<- 170
```

**Limpieza Peso**

```{r}
tabla_1$Peso <- ifelse(tabla_1$Peso < 200, NA, tabla_1$Peso)
tabla_1$Peso[tabla_1$Peso == "675"]<- 75
tabla_1$Peso[tabla_1$Peso == "765"]<- 76
tabla_1$Peso[tabla_1$Peso == "642"]<- 64
tabla_1$Peso[tabla_1$Peso == "854"]<- 85
tabla_1$Peso <- gsub("[^[:digit:]]", "", tabla_1$Peso)
```

**Limpieza Hora 1**

```{r}
tabla_1$Hora1[tabla_1$Hora1 == "18300"]<- 61500
tabla_1$Hora1[tabla_1$Hora1 == "4260"]<- 47460
tabla_1$Hora1[tabla_1$Hora1 == "0"]<- 32400
tabla_1$Hora1[tabla_1$Hora1 == "8820"]<- 52020
#Consulta-Yared
tabla_1$Hora1[tabla_1$Hora1 == "28740"]<- 35940
tabla_1$Hora1[tabla_1$Hora1 == "3600"]<- 46800
```

**Limpieza Hora 2**

```{r}
tabla_1$hora2[tabla_1$hora2 == "26040"]<- 69240
tabla_1$hora2[tabla_1$hora2 == "6240"]<- 49440
tabla_1$hora2[tabla_1$hora2 == "3780"]<- 46980
tabla_1$hora2[tabla_1$hora2 == "37620"]<- 80820
tabla_1$hora2[tabla_1$hora2 == "11820"]<- 55022
```

**Limpieza Carrera**

```{r}
tabla_1$Carrera <- str_to_title(tabla_1$Carrera)
tabla_1$Carrera[tabla_1$Carrera == "Civil"]<- "Ingeniería Civil"
tabla_1$Carrera[tabla_1$Carrera == "Ing. Civil"]<- "Ingeniería Civil"
tabla_1$Carrera[tabla_1$Carrera == "Ing. Civil"]<- "Ingeniería Civil"
tabla_1$Carrera[tabla_1$Carrera == "Ingenería Química"]<- "Ingeniería Química"
tabla_1$Carrera[tabla_1$Carrera == "Química"]<- "Ingeniería Química"
tabla_1$Carrera[tabla_1$Carrera == "Ing. Química"]<- "Ingeniería Química"
tabla_1$Carrera[tabla_1$Carrera == "Ing Ambiental"]<- "Ingeniería Ambiental"
tabla_1$Carrera[tabla_1$Carrera == "Ing. Ambiental"]<- "Ingeniería Ambiental"
tabla_1$Carrera[tabla_1$Carrera == "Ingenieria Ambiental"]<- "Ingeniería Ambiental"
tabla_1$Carrera[tabla_1$Carrera == "Ambiental"]<- "Ingeniería Ambiental"
tabla_1$Carrera[tabla_1$Carrera == "Mecánica"]<- "Ingeniería Mecánica"
tabla_1$Carrera[tabla_1$Carrera == "Mecatrónica"]<- "Ingeniería Mecatrónica"
tabla_1$Carrera[tabla_1$Carrera == "Electrónica"]<- "Ingeniería Electrónica"
tabla_1$Carrera[tabla_1$Carrera == "Ing. Electrónica"]<- "Ingeniería Electrónica"
tabla_1$Carrera[tabla_1$Carrera == "Ingeniería De Energía"]<- "Ingeniería De La Energía"
tabla_1$Carrera[tabla_1$Carrera == "Industrial"]<- "Ingeniería Industrial"
tabla_1$Carrera[tabla_1$Carrera == "Futbolista"]<- NA
```

**Limpieza Cantidad**

```{r}
tabla_1$Cantidad1 <- gsub("[^[:digit:]]", "", tabla_1$Cantidad1)
tabla_1$Cantidad1[tabla_1$Cantidad1 == "Cinco"]<- 5
tabla_1$Cantidad1[tabla_1$Cantidad1 == ""]<- NA
unique(tabla_1$Cantidad1)
```

**Limpieza Edad**

```{r}
tabla_1$Edad <- str_to_title(tabla_1$Edad)
tabla_1$Edad[tabla_1$Edad == "Dieciséis"]<- 16
tabla_1$Edad[tabla_1$Edad == "Diecisiete"]<- 17
tabla_1$Edad[tabla_1$Edad == "Diecisite"]<- 17
tabla_1$Edad[tabla_1$Edad == "Dieciocho"]<- 18
tabla_1$Edad[tabla_1$Edad == "Diecinueve"]<- 19
tabla_1$Edad[tabla_1$Edad == "Veinte"]<- 20
tabla_1$Edad[tabla_1$Edad == "Veintiuno"]<- 21
tabla_1$Edad[tabla_1$Edad == "Veintidos"]<- 22
tabla_1$Edad[tabla_1$Edad == "Veintidós"]<- 22
tabla_1$Edad[tabla_1$Edad == "Veintitrés"]<- 23
tabla_1$Edad[tabla_1$Edad == "Veinticuatro"]<- 24
unique(tabla_1$Edad)
```

**Limpieza Río**

```{r}
tabla_1$Río <- str_to_title(tabla_1$Río)
tabla_1$Río[tabla_1$Río == "Amazonas"]<-"B"
tabla_1$Río[tabla_1$Río == "B) Amazonas"]<-"B"
tabla_1$Río[tabla_1$Río == "Amazones"]<-"B"
tabla_1$Río[tabla_1$Río == "Nilo"]<-"A"
unique(tabla_1$Río)
```

**Limpieza Animal**

```{r}
tabla_1$Animal <- str_to_title(tabla_1$Animal)
tabla_1$Animal[tabla_1$Animal == "Mamífero"]<-"B"
tabla_1$Animal[tabla_1$Animal == "Mamifero"]<-"B"
tabla_1$Animal[tabla_1$Animal == "B) Mamífero"]<-"B"
tabla_1$Animal[tabla_1$Animal == "M"]<-"B"
tabla_1$Animal[tabla_1$Animal == "Pez"]<-"A"
unique(tabla_1$Animal)
```

**Limpieza Pisa**

```{r}
tabla_1$Pisa <- str_to_title(tabla_1$Pisa)
tabla_1$Pisa[tabla_1$Pisa == "Italia"]<-"B"
tabla_1$Pisa[tabla_1$Pisa == "B)Italia"]<-"B"
tabla_1$Pisa[tabla_1$Pisa == "B) Italia"]<-"B"
tabla_1$Pisa[tabla_1$Pisa == "Francia"]<-"A"
tabla_1$Pisa[tabla_1$Pisa == "España"]<-"C"
unique(tabla_1$Pisa)
```

**Limpieza País**

```{r}
tabla_1$País <- str_to_title(tabla_1$País)
tabla_1$País[tabla_1$País == "Rusia"]<-"C"
tabla_1$País[tabla_1$País == "C) Rusia"]<-"C"
tabla_1$País[tabla_1$País == "C)Rusia"]<-"C"
tabla_1$País[tabla_1$País == "Russia"]<-"C"
tabla_1$País[tabla_1$País == "R"]<-"C"
tabla_1$País[tabla_1$País == "Brazil"]<-"A"
tabla_1$País[tabla_1$País == "China"]<-"B"
tabla_1$País[tabla_1$País == "G"]<-NA
unique(tabla_1$País)

```

**Limpieza Planeta**

```{r}
tabla_1$Planeta <- str_to_title(tabla_1$Planeta)
tabla_1$Planeta[tabla_1$Planeta == "C) Neptuno"]<-"C"
tabla_1$Planeta[tabla_1$Planeta == "A)Saturno"]<-"A"
tabla_1$Planeta[tabla_1$Planeta == "S"]<-"A"
tabla_1$Planeta[tabla_1$Planeta == "Saturno"]<-"A"
tabla_1$Planeta[tabla_1$Planeta == "Neptuno"]<-"C"
tabla_1$Planeta[tabla_1$Planeta == "Nepturno"]<-"C"
tabla_1$Planeta[tabla_1$Planeta == "N"]<-"C"
tabla_1$Planeta[tabla_1$Planeta == "Mercurio"]<-"B"
unique(tabla_1$Planeta)
```

**Saltar instrucción**

```{r}
tabla_1$Casilla[is.na(tabla_1$Casilla)] <- "No"
tabla_1$Confirmación[is.na(tabla_1$Confirmación)] <- "No"
```

**Revisión**

```{r}
#Restar las horas para ver cuánto demoraron
tabla_1$DiferenciaHora <- tabla_1$hora2 - tabla_1$Hora1
#Limpiar Nueva casilla
tabla_1$DiferenciaHora <- ifelse(tabla_1$DiferenciaHora < 0, NA, tabla_1$DiferenciaHora)
#____________________________________________________________________
nrow(tabla_1) #Cuenta número de filas (observaciones, muestra)
ncol(tabla_1) #Cuenta número de columnas (variables)
sum(is.na(tabla_1)) #Suma las celdas vacías de DF (Datos faltantes)
sum(!complete.cases(tabla_1)) #Suma las observaciones incompletas
```
