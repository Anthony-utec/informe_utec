---
title: "PG1 - Análisis estadístico de la emisión de CO2 producido por autos en Canadá"
output:
  html_document:
    df_print: paged
---

# <u>**Tema:**</u>

<h3><center>**Análisis estadístico de la emisión de CO2 producido por autos en Canadá entre los últimos 7 años**</center></h3>

# <u>**Introducción:**</u>

Actualmente el calentamiento global es un problema a nivel mundial, que termina afectando a toda la población y los seres vivos en general que habitan en nuestro planeta. Si bien es cierto que este es el resultado de muchos factores negativos, uno de ellos es la contaminación generada por la emisión de CO2 por los autos. Según un reporte de WardsAutos, en el mundo hay 1,42 mil millones de autos, y si consideramos que cada auto puede emitir entre 90g de CO2/km hasta 250g de CO2/km al día, podemos notar que la cantidad de CO2 emitida por los autos es extremadamente alto.  

Es por ello, que decidimos realizar un análisis estadístico sobre la emisión de CO2 producido por los autos en Canadá, para así poder observar la relación entre los modelos de autos que circulan en el país y que tan contaminantes son.

## **Relevancia:**

El presente estudio nos permitirá observar y analizar la emisión de CO2 producido por los autos de Canadá, permitiendo encontrar alguna relación entre el tipo de vehículo, el combustible que se usa, la distancia recorrida o el tipo de ruta recorrida. Todo esto nos permitirá entender mejor como se da dicha emisión, cuales son los factores que pueden aumentar o disminuir dicha emisión y en que magnitud se produce. De esta forma observaremos cual es la relación entre el modelos de auto y la cantidad de CO2 que produce para determinar cuales son los más contaminantes y cuales son los menos contaminantes.

## **Objetivos:**

* **Objetivos generales**  

  + Analizar las diferencias de nivel de emisión del CO2 dependiendo de las características del vehículo.  
  + Describir la correlación entre el combustible consumido y la cantidad emitida de CO2 por los vehículos según el tipo de combustible.  
  + Determinar las diferencias de emisión de CO2 entre el tipo de viaje(ciudad o carreteras).
  
## **Contexto: **

Para poder entender este análisis no se necesita tener mucho conocimiento técnico ni alguno sobre un tema en específico ya que todo ha sido planteado en un lenguaje claro y sencillo de comprender.

Sin embargo, durante el análisis se hace uso de algunas abreviaturas que serán explicadas a continuación, así como también algunos conceptos que también serán explicados para una mejor comprensión. :

* **Modelo:**

  + 4WD/4X4 = Tracción en las cuatro ruedas
  + AWD = Tracción total
  + FFV = Vehículo de combustión flexible
  + SWB = Distancia entre ejes corta
  + LWB = Distancia entre ejes larga
  + EWB = Distancia entre ejes extendida  
  
* **Transmisión:**

  + A = Automático
  + AM = Manual automatizado
  + AS = Automático con cambio seleccionado
  + AV = Continuamente variable
  + M = Manual
  + 3 - 10 = Número de cambios  
  
* **Tipo de combustible:**

  + X = Gasolina normal
  + Z = Gasolina premium
  + D = Diesel
  + E = Etanol (E85)
  + N = Gas natural  
  
* **Consumo de combustible:**

  + Las clasificaciones de consumo de combustible en ciudad y carretera se muestran el litros cada 100 kilómetros (L/100 km).
  + La clasificación combinada (55% ciudad, 45% carretera) se muestra en L/100 km y en millas por galón(mpg)  
  
* **Emisión de CO2:**

  Las emisiones de dióxido de carbono del tubo de escape (en gramos por kilómetro) para la conducción combinada en ciudad y carretera.

# <u>**Datos:**</u>

## **Proceso de recolección de datos:**

  + Empezamos coordinando que instrumento utilizaríamos para la recolección de datos y optamos por usar una base de datos
  + Seguido a ello, comenzamos a buscar e indagar diferentes fuentes y páginas web, en busca de bases de datos que cumplan con las condiciones proporcionadas.
  + Seleccionamos las bases de datos que cumplían con las condiciones proporcionadas y que nos parecieron interesantes para trabajar.
  + Teniendo todas, comenzamos a seleccionar con cual podríamos trabajar, cual tenía mejores características, mas variables, mas observaciones y cual de ellas nos brindaría un mejor recurso para nuestro análisis.
  + Finalmente luego de comparar nuestra bases, decidimos optar por aquella referente a la emisión de CO2 producida por autos de Canadá, que a parte de ser un tema que nos resulto interesante, vimos que podríamos realizar un gran trabajo con ella de acuerdo a las características de esta. Por ello decidimos seleccionarla.

## **Intrumento de recolección de datos:**

Optamos trabajar con una base de datos. Este conjunto de datos lo obtuvimos de la plataforma “Kaggle”, la cual obtuvo dicha información del sitio web oficial de datos abiertos del Gobierno de Canadá. Estos datos tratan acerca de cómo puede variar las emisiones de CO2 de un vehículo en función de sus diferentes características.

## **Población, muestra y muestreo:**

* **Población**
  
  Todos los autos que circulan dentro de Canadá 
  
* **Muestra**  
  
  7385 modelos de autos seleccionados que circulan dentro de Canadá  

* **Muestreo**  

  Se agruparon todos los autos de acuerdo al modelo de vehículo y se tomo como sujeto a cada tipo.

## **Variables:**

* **Numéricas continuas:**

  + *Tamaño del motor (L):*  
    Definición: Tamaño del motor usado en litros  
    Restricción: Número natural mayor a 0

  + *Consumo de combustible en la ciudad (L/100km):*  
    Definición: Consumo realizado por el vehículo en litros por cada 100 kilómetros recorridos en la ciudad  
    Restricción: Número natural mayor a 0

  + *Consumo de combustible en carretera (L/100 km)*  
    Definición: Consumo realizado por el vehículo en litros por cada 100 kilómetros recorridos en carretera  
    Restricción: Número natural mayor a 0

  + *Consumo combinado en ciudad y carretera (L/100 km):*  
    Definición: Consumo realizado por el vehículo en litros por cada 100 kilómetros recorridos en carretera y en ciudad  
    Restricción: Número natural mayor a 0

* **Numéricas discretas:**

  + *Cilindros:*  
    Definición: Número de cilindros en el motor de un auto  
    Restricción: Número entero mayor a 0

  + *CO2 emisiones:*  
    Definición: Las emisiones de dióxido de carbono del tubo de escape (en gramos por kilómetro) para la conducción combinada en ciudad y carretera.  
    Restricción: Número entero mayor a 0

  + *Combinación del consumo compartido:*  
    Definición: El consumo de combustible realizado por el vehículo en ciudad y carretera, se muestra en millas por galón (mpg)  
    Restricción: Número entero mayor a 0

    [ Aclaración: *Algunas de estas variables son consideradas continuas ya que la base de datos la muestra “discretizadas”, es decir no consideraron sus decimales a pesar de la posibilidad de considerarlo*]{style="color:blue"}

* **Categórica nominal:**

  + *Marca:*  
    Definición: Nombre de la compañía del vehículo 

  + *Modelo:*  
    Definición: Modelo de carro 

  + *Clase de vehículo:*  
    Definición: Clase de vehículo en función de su utilidad, capacidad y peso 

  + *Tipo de transmisión:*  
    Definición: Tipo de transmisión con número de marchas 

  + *Tipo de combustible:*  
    Definición: Tipo de combustible usado 

# <u>**Limpieza de base de datos:**</u>

## **Carga de Datos**

Importamos las librerías necesarias

```{r}
library(readr)
library(plyr)
library(dplyr)
```

Importamos nuestra base de datos
```{r}
BD <- read.csv("CO2 Emissions_Canada.csv")
BD
```

## **Dimensión de la base de datos**

```{r}
Dimension <- dim(BD)
Dimension
```

## **Renombre de variables**

Observo el nombre de las variables
```{r}
names(BD)
```

Renombramos las variables
```{r}
BD <- rename(BD, Marca = "Make", Modelo = "Model", Clase = "Vehicle.Class", Tamaño_motor = "Engine.Size.L.", Cilindros = "Cylinders", Transmision = "Transmission", Tipo_combustible = "Fuel.Type", Consumo_ciudad = "Fuel.Consumption.City..L.100.km.", Consumo_carretera = "Fuel.Consumption.Hwy..L.100.km.", Consumo_combinado = "Fuel.Consumption.Comb..L.100.km.", Consumo_combinado_mpg = "Fuel.Consumption.Comb..mpg.", Emisión_CO2 = "CO2.Emissions.g.km.")
```

Observamos los nuevos nombres
```{r}
names(BD)
```

## **Corrección del tipo de variables**

Observamos el tipo de variables
```{r}
class(BD$Marca)
class(BD$Modelo)
class(BD$Clase)
class(BD$Tamaño_motor)
class(BD$Cilindros)
class(BD$Transmision)
class(BD$Tipo_combustible)
class(BD$Consumo_ciudad)
class(BD$Consumo_carretera)
class(BD$Consumo_combinado)
class(BD$Consumo_combinado_mpg)
class(BD$Emisión_CO2)
```

Corregimos las que no coinciden (en este caso las variables coinciden con el tipo asignado así que no habría que realizar correcciones)
```{r}


```

Confirmamos si nuestras variables van acorde al tipo asignado
```{r}
class(BD$Marca)
class(BD$Modelo)
class(BD$Clase)
class(BD$Tamaño_motor)
class(BD$Cilindros)
class(BD$Transmision)
class(BD$Tipo_combustible)
class(BD$Consumo_ciudad)
class(BD$Consumo_carretera)
class(BD$Consumo_combinado)
class(BD$Consumo_combinado_mpg)
class(BD$Emisión_CO2)
```

## **Observación de datos atípicos y limpieza de ellos:**

Obtengo un resumen de cada variable
```{r}
summary(BD)
```

Al observar el resumen vemos que hay algunas variables que tiene valores muy grandes y alejados de la media, lo cual nos podría indicar que son atípicos. Sin embargo, para confirmar dicha suposición voy a obtener las frecuencia de cada observación para analizar el impacto que tendrían estos en mi investigación y decidir si es mejor retirarlos o conservarlos.

Las variables a analizar serán: Tamaño_motor, Cilindros, Consumo_ciudad, Consumo_carretera, Consumo_combinado, Consumo_combinado_mpg, Emisión_CO2.

Empezamos por Tamaño_motor:
```{r}
table(BD$Tamaño_motor)
```
Vemos que tanto los valores pequeños como los valores más grandes si presentan frecuencias considerables (no presentan como frecuencia 1) y si investigamos, estos valores se encuentran dentro de los parámetros posibles para el tamaño de un motor, debido a ello conservaremos estos datos pues no son atípicos.


Sigamos con Cilindros:
```{r}
table(BD$Cilindros)
```
Como sucedía con la variables anterior, en esta también podemos ver que los valores pequeños y los más grandes poseen frecuencias considerables que no pueden ser eliminadas. Asimismo los valores obtenidos se encuentran dentro de los parámetros posibles para el número de cilindros que pueden tener los autos.


Pasamos a Consumo_ciudad:
```{r}
table(BD$Consumo_ciudad)
```
Para este caso también vemos que los valores de los extremos presentan frecuencias a considerar y se encuentran dentro de los parámetros posibles para esta categoría, asi que no los podemos eliminar.


Ahora vamos con Consumo_carretera:
```{r}
table(BD$Consumo_carretera)
```
En este caso es la misma observación que la anterior. No podemos eliminar los valores de los extremos


Luego vamos con Consumo_combinado:
```{r}
table(BD$Consumo_combinado)
```
Para este caso la misma observación, los valores son posibles y con frecuencias a considera, así que los datos extremos deben permanecer en el estudio.


Sigamos con Consumo_combinado_mpg:
```{r}
table(BD$Consumo_combinado_mpg)
```
Igual sucede para este caso, los datos extremos se mantienen.


Finalmente con Emisión_CO2
```{r}
table(BD$Emisión_CO2)
```
Para este caso, sucede lo mismo. Loas valores extremos no se pueden eliminar, asi que trabajaremos con ellos.


En conclusión, si bien nuestra investigación muestra valores que están algo alejados (o mejor dicho dispersos), estos son importantes para la investigación ya que presentan frecuencias considerables que podrían afectar nuestras conclusiones con su ausencia. Además de ello, todos estos valores se encuentran dentro de los parámetros posibles y lógicos para las características que puede poseer un auto, así que si es razonable conservarlos. De acuerdo a todo ello, si bien algunos datos pueden ser considerados atípicos, serán considerados para nuestro análisis.

# <u>**Análisis descriptivo:**</u>

## **Dimensión de la base de datos:**

```{r}
nrow(BD)
```
Filas: 7385

```{r}
ncol(BD)
```
Número de variables: 12

```{r}
sum(is.na(BD))
sum(!is.na(BD))
```
Número de datos faltantes (NA's): 0
Número de datos completos: 88620

```{r}
sum(complete.cases(BD))
sum(!complete.cases(BD))
```
Casos completos: 7385
Casos incompletos: 0


## <u>**Análisis de las variables:**</u>

## **Cilindros vs Tamaño_motor:**
```{r}
#Obtenemos los indicadores para nuestra variable Cilindros:

summary(BD$Cilindros)
table(BD$Cilindros)

#Obtenemos los indicadores para nuestra variable Tamaño_motor

summary(BD$Tamaño_motor)
table(BD$Tamaño_motor)

#Obtenemos los indicadores del tamaño de motor según el numero de cilindros

summary(BD$Tamaño_motor[BD$Cilindros=="3"]) #3 cilindros
summary(BD$Tamaño_motor[BD$Cilindros=="4"]) #4 cilindros
summary(BD$Tamaño_motor[BD$Cilindros=="5"]) #5 cilindros
summary(BD$Tamaño_motor[BD$Cilindros=="6"]) #6 cilindros
summary(BD$Tamaño_motor[BD$Cilindros=="8"]) #8 cilindros
summary(BD$Tamaño_motor[BD$Cilindros=="10"]) #10 cilindros
summary(BD$Tamaño_motor[BD$Cilindros=="12"]) #12 cilindros
summary(BD$Tamaño_motor[BD$Cilindros=="16"]) #16 cilindros

```

```{r}
#Creamos el diagrama de cajas

boxplot(formula=BD$Tamaño_motor~BD$Cilindros, data=BD,col="lightblue", horizontal= T, xlab="Tamaño de motor", ylab="Cilindros")
title("Diagrama de cajas Cilindros vs Tamaño del motor")
```
INTERPRETACIÓN: Como se puede apreciar en el gráfico podemos ver que mientras más cilindros contenga el vehículo, mayor será el tamaño del motor, lo cual guarda relación, puesto que, los cilindros se localizan en el motor, si un vehículo tiene mas cilindros, necesitará mayor espacio en el motor para todos esos cilindros.


```{r}
#Obtenemos los descriptores de dispersión para nuestra variable numérica "Tamaño del motor" 
summary(BD$Tamaño_motor)
Rmin = 0.9
Rmax = 8.4
Rangototal = Rmax - Rmin 
Rangototal #Rango total

var(BD$Tamaño_motor,na.rm=T)  #Varianza

sd(BD$Tamaño_motor,na.rm=T)   #Desviación estándar

CV<-(sd(BD$Tamaño_motor,na.rm=T)/mean(BD$Tamaño_motor,na.rm=T))*100   #Coeficiente de variación.
CV

```
INTERPRETACIÓN:
DE los datos obtenidos podemos concluir:
Los datos tienen un rango total de 7.5, por lo cual, estos presentan poca dispersión.
La varianza del consumo de combustible en ciudad es: 1.833778
La desviación estándar es 1.35417.  
El coeficiente de variación es 42.85258 %. 
Debemos recordad que mientras mas bajos sean los valores obtenidos, existirá menos dispersión. Para este caso los valores si son pequeños, por lo cual se puede decir que la dispersión es baja o que casi no hay dispersión, pues los valores si son muy pequeños.

## **Consumo_ciudad:**
```{r}
#Obtenemos los indicadores para nuestra variable Consumo_ciudad:

summary(BD$Consumo_ciudad)
table(BD$Consumo_ciudad)

```

```{r}
#Creamos el histograma

hist(BD$Consumo_ciudad, xlab = "Litros/100km", ylab = "N° de vehículos", col ="lightblue" , main="Histograma de la variable Consumo en ciudad",  )
```

INTERPRETACIÓN: Según el gráfico, vemos que la mayor parte de los vehículos que se consideraron en la investigación tienen un consumo que oscila entre los 8 a 16 litros por cada 100km de recorrido. Del gráfico también podemos apreciar un pequeño sesgo a la izquierda ya que los datos están más aglomerados en la parte izquierda de la gráfica, entre los valores antes mencionados. Además de ello, podemos rescatar de la gráfica que el consumo que oscila entre los 10 y 12 litros por 100km es el que tiene mayor frecuencia en los vehículos, llegando a ser mas de 1500.


```{r}
#Obtenemos los descriptores de dispersión para nuestra variable numérica "Consumo en ciudad" 
summary(BD$Consumo_ciudad)
Rmin = 4.2
Rmax = 30.60
Rangototal = Rmax - Rmin 
Rangototal #Rango total

var(BD$Consumo_ciudad,na.rm=T)  #Varianza

sd(BD$Consumo_ciudad,na.rm=T)   #Desviación estándar

CV<-(sd(BD$Consumo_ciudad,na.rm=T)/mean(BD$Consumo_ciudad,na.rm=T))*100   #Coeficiente de variación.
CV

```
INTERPRETACIÓN:
DE los datos obtenidos podemos concluir:
Los datos tienen un rango total de 26.4, por lo cual, estos presentan cierta dispersión.
La varianza del consumo de combustible en ciudad es: 12.25192
La desviación estándar es 3.500.  
El coeficiente de variación es 27.87612 %. 
Debemos recordad que mientras mas bajos sean los valores obtenidos, existirá menos dispersión. Para este caso los valores no son tan pequeños, por lo cual no se puede decir que la dispersión es baja, sin embargo, estos tampoco son muy altos. Podemos decir que si existe dispersión, pero no es exagerada.


## **Consumo_carretera:**
```{r}
#Obtenemos los indicadores para nuestra variable Consumo_carretera:

summary(BD$Consumo_carretera)
table(BD$Consumo_carretera)

```

```{r}
#Creamos el histograma

hist(BD$Consumo_carretera, xlab = "Litros/100km", ylab = "N° de vehículos", col ="lightblue" , main="Histograma de la variable Consumo en carretera",  )

```

INTERPRETACIÓN: Para el consumo en carretera sucede algo similar al consumo en ciudad (que analizamos anteriormente). Observamos que también hay un sesgo a la izquierda, y que en este caso la mayor parte de los datos se encuentra entre los 6 y 12 litros por cada 100km de recorrido. También observamos que, el consumo que tiene mayor frecuencia es de 9 litros por 100km, teniendo una frecuencia de 1500 aproximadamente.Y cabe mencionar que son muy pococs vehículos los que llegan a tener un consumo mayor a 17 L/100km.


```{r}
#Obtenemos los descriptores de dispersión para nuestra variable numérica "Consumo en carretera" 
summary(BD$Consumo_carretera)
Rmin = 4
Rmax = 20.6
Rangototal = Rmax - Rmin 
Rangototal #Rango total

var(BD$Consumo_carretera,na.rm=T)  #Varianza

sd(BD$Consumo_carretera,na.rm=T)   #Desviación estándar

CV<-(sd(BD$Consumo_carretera,na.rm=T)/mean(BD$Consumo_carretera,na.rm=T))*100   #Coeficiente de variación.
CV

```
INTERPRETACIÓN:
DE los datos obtenidos podemos concluir:
Los datos tienen un rango total de 16.6, por lo cual, estos presentan poca dispersión.
La varianza del consumo de combustible en carretera es: 4.948206
La desviación estándar es 2.224456.  
El coeficiente de variación es 24.60218 %. 
Debemos recordad que mientras mas bajos sean los valores obtenidos, existirá menos dispersión. Para este caso los valores si son pequeños, por lo cual se puede decir que la dispersión es baja. ESta si existe pero es baja.


## **Tipo_combustible vs Consumo_combinado:**
```{r}
#Obtenemos los indicadores para nuestra variable Tipo_combustible:

summary(BD$Tipo_combustible)
table(BD$Tipo_combustible)

#Obtenemos los indicadores para nuestra variable Consumo_combinado:

summary(BD$Consumo_combinado)
table(BD$Consumo_combinado)

#Obtenemos los indicadores del consumo combinado según el tipo de combustible:

summary(BD$Consumo_combinado[BD$Tipo_combustible=="D"]) #D = Diesel
summary(BD$Consumo_combinado[BD$Tipo_combustible=="E"]) #E = Etanol(E85)
summary(BD$Consumo_combinado[BD$Tipo_combustible=="N"]) #N = Gas natural
summary(BD$Consumo_combinado[BD$Tipo_combustible=="X"]) #X = Gasolina normal
summary(BD$Consumo_combinado[BD$Tipo_combustible=="Z"]) #Z = Gasolina premium

```

```{r}
#Creamos el diagrama de cajas

boxplot(formula=BD$Consumo_combinado~BD$Tipo_combustible, data=BD,col="lightblue", horizontal= T, xlab="Consumo combinado", ylab="Tipo de combustible")
title("Diagrama de cajas Tipo de combustible vs Consumo combinando")
```

INTERPRETACIÓN: Del gráfico podemos interpretar que el mayor consumo se da cuando el vehículo usa Etanol (E) como combustible, ya que vemos que su consumo oscila entre los 10 y 25 litros por 100km. En cambio, el consumo mínimo se da cuando el vehículo usa gas natural como combustible, además de eso vemos que su rango de oscilación no es amplio pues solo alcanza un consumo de 13 litros por 100km aproximadamente. Por otro lado, podemos mencionar que tanto, aquellos que usan Diese como gasolina normal y premium concentran la mayor parte de su frecuencia en el lado izquierdo de la gráfico (menores valores), sin embargo, vemos que en el caso de la gasolina (tanto normal como premium) pueden alcanzar rangos de consumo mayores a los que alcanza el diesel.



## **Emisión_CO2:**
```{r}
#Obtenemos los indicadores para nuestra variable Emisión_CO2:

summary(BD$Emisión_CO2)
table(BD$Emisión_CO2)

```

```{r}
#Creamos el histograma

hist(BD$Emisión_CO2, xlab = "gramos/km", ylab = "N° de vehículos", col ="lightblue" , main="Histograma de la variable Emisión de CO2",  )
```

INTERPRETACIÓN: En cuanto a la Emisión de CO2 podemos ver en la gráfica que esta presenta un comportamiento un tanto simétrico, si bien no es completamente simétrico, se puede ver una tendencia o intención a serlo. Además de ello vemos que las mayores frecuencias se encuentran entre los 150 y 350 gramos por km. Siendo de 200 a 250 gramos/km donde se encuentra la mayor frecuencia.Además de ello, vemos que son muy pocos los vehículos que tienen emisiones mayores a 400 gramos por km.


```{r}
#Obtenemos los descriptores de dispersión para nuestra variable numérica "Consumo en ciudad" 
summary(BD$Emisión_CO2)
Rmin = 96
Rmax = 522
Rangototal = Rmax - Rmin 
Rangototal #Rango total

var(BD$Emisión_CO2,na.rm=T)  #Varianza

sd(BD$Emisión_CO2,na.rm=T)   #Desviación estándar

CV<-(sd(BD$Emisión_CO2,na.rm=T)/mean(BD$Emisión_CO2,na.rm=T))*100   #Coeficiente de variación.
CV

```
INTERPRETACIÓN:
DE los datos obtenidos podemos concluir:
Los datos tienen un rango total de 426, por lo cual, estos presentan mucha dispersión.
La varianza de la emisión de CO2 es: 3423.734
La desviación estándar es 58.51268.  
El coeficiente de variación es 23.35046 %. 
Debemos recordad que mientras mas bajos sean los valores obtenidos, existirá menos dispersión. Para este caso los valores son demasiado altos por lo cual podemos concluir que para esta variable si existe mucha dispersión en los datos.

## **Tamaño_motor vs Emisión_CO2:**
```{r}
#Obtenemos los indicadores para nuestra variable Emisión_CO2:

summary(BD$Emisión_CO2)
table(BD$Emisión_CO2)

#Obtenemos los indicadores para nuestra variable Tamaño_motor:

summary(BD$Tamaño_motor)
table(BD$Tamaño_motor)
```

```{r}
#Creamos el diagrama de cajas

boxplot(formula=BD$Emisión_CO2~BD$Tamaño_motor, data=BD,col="lightblue", horizontal= T, xlab="Emisión de CO2", ylab="Tamaño del motor")
title("Diagrama de cajas Emisión de CO2 vs Tamaño del motor")
```

INTERPRETACIÓN: En esta gráfica si bien no se puede ver a detalle cada caja, pero podemos ver la tendencia de estos y la ubicación de estos, según ello, vemos que mientras mas grande sea el motor mayor será la emisión de CO2 del vehículo. Todo ello obedece a que mientras mas grande sea el motor, significa que cuenta con mas cilindros, al tener mas cilindros hay mas combustión del combustible y con ello mayor emisión de CO2 producto de dicha combustión, también se puede dar por el hecho de que al tener un motor de mayor tamaño, requiere de mayor potencia y por ello es necesario realizar mayor combustión que generará mayores emisiones.



## **Tipo_combustible vs Emisión_CO2:**
```{r}
#Obtenemos los indicadores para nuestra variable Tipo_combustible:

summary(BD$Tipo_combustible)
table(BD$Tipo_combustible)

#Obtenemos los indicadores para nuestra variable Emisión_CO2:

summary(BD$Emisión_CO2)
table(BD$Emisión_CO2)

#Obtenemos los indicadores de la Emisión de CO2 según el tipo de combustible:

summary(BD$Emisión_CO2[BD$Tipo_combustible=="D"]) #D = Diesel
summary(BD$Emisión_CO2[BD$Tipo_combustible=="E"]) #E = Etanol(E85)
summary(BD$Emisión_CO2[BD$Tipo_combustible=="N"]) #N = Gas natural
summary(BD$Emisión_CO2[BD$Tipo_combustible=="X"]) #X = Gasolina normal
summary(BD$Emisión_CO2[BD$Tipo_combustible=="Z"]) #Z = Gasolina premium
```

```{r}
#Creamos el diagrama de cajas

boxplot(formula=BD$Emisión_CO2~BD$Tipo_combustible, data=BD,col="lightblue", horizontal= T, xlab="Emisión de CO2", ylab="Tipo de combustible")
title("Diagrama de cajas Emisión de CO2 vs Tipo de combustible")
```

INTERPRETACIÓN: En cuanto a esta gráfica vemos que la mayor parte de vehículos considerados, independientemente del tipo de combustible que usen, tienen una emisión que oscila entre los 200 y 300 gramos por km. Centrándonos en cada tipo, vemos que el que realiza menos emisión de CO2 es el gas natural, agregar a ello que también es el combustible menos usado por los vehículos (por ello su frecuencia también es menor). En cuanto a diesel su emisión oscila entre los 160 y 340 gramos por km.
El Etanol por su parte es similar al diesel pero alcanza mayores y menores emisiones con ciertos vehículos. Por último, la gasolina, ya sea normal o premium, si bien concentra cerca de la mitad entre 200 y 300 gramos por km, la otra mitad puede alcanzar valores menorea a 200 hasta 100, o mayores que 300 hasta llegar a 500 gramos por km.


## **Cilindros vs Emisión_CO2:**
```{r}
#Obtenemos los indicadores para nuestra variable Cilindros:

summary(BD$Cilindros)
table(BD$Cilindros)

#Obtenemos los indicadores para nuestra variable Emisión_CO2:

summary(BD$Emisión_CO2)
table(BD$Emisión_CO2)

#Obtenemos los indicadores de la Emisión de CO2 según el número de cilindros:

summary(BD$Emisión_CO2[BD$Cilindros=="3"]) #3 cilindros
summary(BD$Emisión_CO2[BD$Cilindros=="4"]) #4 cilindros
summary(BD$Emisión_CO2[BD$Cilindros=="5"]) #5 cilindros
summary(BD$Emisión_CO2[BD$Cilindros=="6"]) #6 cilindros
summary(BD$Emisión_CO2[BD$Cilindros=="8"]) #8 cilindros
summary(BD$Emisión_CO2[BD$Cilindros=="10"]) #10 cilindros
summary(BD$Emisión_CO2[BD$Cilindros=="12"]) #12 cilindros
summary(BD$Emisión_CO2[BD$Cilindros=="16"]) #16 cilindros
```

```{r}
#Creamos el diagrama de cajas

boxplot(formula=BD$Emisión_CO2~BD$Cilindros, data=BD,col="lightblue", horizontal= T, xlab="Emisión de CO2", ylab="N° de cilindros")
title("Diagrama de cajas Emisión de CO2 vs N° de cilindros")
```

INTERPRETACIÓN: En esta gráfica podemos ver claramente una relación entre ambas variables. Mientras mayor sea el número de cilindros mayor será la emisión de CO2, lo cual también guarda relación con la gráfica anterior referente al tamaño del motor y la emisión de CO2. Mientras mas cilindros tenga el motor y el vehículo, estos realizarán mayor combustión del combustible y con ello habrá mas emisión de CO2.



## <u>**Relación entre variables:**</u>

Para esta investigación las variables que analizaremos serán:
- La relación entre tamaño de motor y consumo combinado
- La relación entre el número de cilindros y la emisión de CO2

**Tamaño de motor y consumo combinado **

```{r}
#Hallamos la relación entre las variables
cov(BD$Tamaño_motor,BD$Consumo_combinado)  #"Covarianza"

cor(BD$Tamaño_motor,BD$Consumo_combinado)  #"Coeficiente de correlación

```

**ANÁLISIS:**

Al obtener los valores vemos que la covarianza tiene un valor de 3.20038, el cual al ser positivo nos indica que la relación es positiva y directamente proporcional, lo que quiere decir que mientras una variable aumenta, la otra también aumenta. En cuanto al coeficiente de correlación, este tiene un valor de 0.81706, que es un valor positivo y cercano a 1, lo cual nos indica que la relación lineal entre las variables es muy buena.


**Regresión lineal:**

Fórmula modelo lineal:
   y = B0 + B1.X
   
   B0 = termino independiente o intercepto (con eje x)
   
   B1 = coeficiente (de x) o pendiente

```{r}
#Planteo mi comando para obtener los datos de mi ecuación

rl <- lm(BD$Consumo_combinado~BD$Tamaño_motor, data=BD)
rl
```

Ecuación: Y = 5.460 + 1.745*X

```{r}
Promedio <- 5.460 + 1.745*(BD$Tamaño_motor)
Promedio
```

Luego de que hemos planteado nuestra ecuación, podemos obtener los valores estimados del consumo combinado que le corresponderían a cada vehículo de acuerdo al tamaño de motor que tienen.

Sin embargo para comprobar si el modelo es bueno, hallemos la covarianza y coeficiente de correlación:

```{r, echo=TRUE}
#Hallamos la relación entre las variables con los valores estimados

cov(BD$Consumo_combinado,Promedio)  #"Covarianza"

cor(BD$Consumo_combinado,Promedio)  #"Coeficiente de correlación"
```

Si observamos los valores obtenidos podemos concluir que nuestro modelo de regresión lineal si es bueno. Dado que tenemos en la covarianza un valor positivo que es aun mayor que el anterior, lo cual nos indica que la relación a mejorado y que sigue siendo positiva y ascendente. Por otro lado, como coeficiente de correlación tenemos el mismo valor anterior lo cual nos indica que la relación no es perfecta, pero es buena y sigue guardando relación.


**Número de cilindros y emisión de CO2**

```{r, echo=TRUE}
#Hallamos la relación entre las variables

cov(BD$Cilindros,BD$Emisión_CO2)  #Covarianza

cor(BD$Cilindros,BD$Emisión_CO2)  #Coeficiente de correlación

```

**ANÁLISIS:**

Luego de observar los valores obtenidos vemos que en la covarianza obtuvimos un valor de 89.07547, lo cual al ser positivo y un número grande, nos indica que la relación entre ambas variables es positiva y directamente proporcional. Por otro lado, tenemos como coeficiente de correlación el valor de 0.8326436, que al ser positivo y cercano a 1 nos indica que la relación entre ambas variables es muy buena.


**Regresión lineal:**

Fórmula modelo lineal:
   y = B0 + B1.X
   
   B0 = termino independiente o intercepto (con eje x)
   B1 = coeficiente (de x) o pendiente

```{r}
#Planteo mi comando para obtener los datos de mi ecuación

rl <- lm(BD$Emisión_CO2~BD$Cilindros, data=BD)
rl
```

Ecuación: Y = 100.96 + 26.65*X

```{r}
Promedio <- 100.96 + 26.65*(BD$Cilindros)
Promedio
```

Luego de plantear la ecuación, podemos obtener los valores estimados de la emisión de CO2 aproximada que le correspondería acda vehículo de acuerdo al número de cilindros que este tiene.

Sin embargo para comprobar si el modelo es bueno, hallemos nuevamente la covarianza y coeficiente de correlación:

```{r, echo=TRUE}
#Hallamos la relación entre las variables con los valores estimados

cov(BD$Cilindros,Promedio)  #"Covarianza"

cor(BD$Cilindros,Promedio)  #"Coeficiente de correlación
```

Al observar los valores obtenidos podemos concluir que nuestro modelo de regresión lineal, en este caso, es muy bueno. Por un lado tenemos a la covarianza con un valor de 89.08308 el cual nos indica que la relación sigue sinedo positiva y directamente proporcional. Por otro lado el coeficiente de correlación ha llegado a tener el valor de 1, lo cual nos indica que la relación es muy buena y perfecta.



# <u>**Análisis probabilístico**</u>


## **Distribución Binomial**  

```{r}
result <- round(table(BD$Cilindros)/nrow(BD)*100,digits=2)
result
```
  
  
Se sabe que el 43.60 % de los vehículos considerados cuantan con 4 cilindros en el motor. Por lo tanto consideremos que se elije al azar 20 vehículos, tomando como *éxito* cuando el vehículo cuanta con 4 cilindros.

Por lo que se utiliza el **modelo binomial**.  
   
$\mathbb{X}∼\mathbb{Bin(x,n,p)}$   
  
*Donde:*   
$X$: número de vehículos que cuentan con 4 cilindros.  
$n$: número de muestras tomada (20 vehículos).   
$p$: probabilidad de *éxito* que el vehículo seleccionado cuente con 4 cilindros   
  
* a) ¿Cuál es la probabilidad de que exactamente 6 vehículos cuenten con 4 cilindros?   
       
      $X$= Número de vehículos que cuentan con 4 cilindros.     
      Parámetros:  
      $n$=20    
      $p$= 0.4360       
      Se pide: $P(x=6)$          
```{r,echo=TRUE}
    dbinom(6,20,0.4360)
```
   
   
* b) ¿Cuál es la probabilidad de que por lo menos que 19 vehículos cuenten con 4 cilindros?  

      $Y$= Número de vehículos que cuentan con 4 cilindros.     
      Parámetros:   
      $n$= 20   
      $p$=0.4360   
      Se pide= $P(Y>= 19)$  
      
```{r, echo=TRUE}
    pbinom(18,20,0.4360,lower.tail=F)

```
  
  
* c) ¿Cuál es la probabilidad de que a lo más 10 vehículos si cuenten con 4 cilindros?   

      $Z$= Número de vehículos que cuentan con 4 cilindros.     
      Parámetros: 
      $n$=20   
      $p$=0.4360    
      Se pide: $P(Z<=10)$   
      
      
```{r,echo=TRUE}
      pbinom(10,20,0.4360)
```
 
* d) ¿Qué se espera tener de la encuesta?   
     $E(\mathbb{X})=np$  
     $E(X)$= 0.4360* 20 = 8.72  $=>$ la encuesta espera tener un aproximado de 8 vehículos que cuenten con 4 cilindros.
        

#### **GRÁFICA DE UN MODELO BINOMIAL**   

```{r}
result <- round(table(BD$Cilindros)/nrow(BD)*100,digits=2)
result
```

Se sabe que del total de vehículos considerados, el 33.12 % son vehículos que ceuntan con 6 cilindros en el motor. Si se toma una muentra de 90 vehículos de la población, ¿cuál es la probabilidad de que 46 vehículos tengan 6 cilindros en el motor?

  
```{r}
n= 90
x= 46
p= 0.3312
plot(dbinom(x,0:n, p), col= "red2", xlab= "Número de Vehículos (n)", ylab= "Probabilidad  P(X=x0)", main="MODELO BINOMIAL- vEHÍCULOS CON 6 CILINDROS")
```
   




















