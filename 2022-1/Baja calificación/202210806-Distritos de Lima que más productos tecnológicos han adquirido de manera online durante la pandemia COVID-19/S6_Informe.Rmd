---
title: "P2 S6 Presentaci√≥n"
date: "`r format(Sys.time(), '%d, %B, %Y')`"
output:
  html_document:
    toc: yes
    df_print: paged
  html_notebook:
    toc: yes
    toc_float:
      collapsed: no
      smooth_scroll: no
    number_sections: no
    theme: yeti
  pdf_document:
    toc: yes
---


# **Introducci√≥n**

## **Relevancia**
El 15 de marzo del 2020 a causa del confinamiento hizo que muchas actividades se realizaran de manera virtual, y la compra de productos tecnol√≥gicos no se hicieron de esperar. Debido a que muchas personas necesitaban un aparato tecnol√≥gico para su uso, muchas de estas decidieron recurrir a sus compras, pero de manera online, evitando de esa manera una manera de contagio.

Este nuevo m√©todo de comprar de forma online fue progresivo. Asimismo, la tecnolog√≠a estuvo de nuestro lado y facilit√≥ a su vez la adaptaci√≥n; ya que, no solo pod√≠amos visualizar los productos desde casa, sino que tambi√©n nos permit√≠a comparar precios para luego hacer la elecci√≥n m√°s favorable, sin necesidad de salir de casa.

En este proyecto, vamos a evaluar el grado de adaptacion, es decir, que tanto se han adaptado las personas de los distritos de la ciudad de Lima - Peru hacia estasc compras de productos tecnologicos de manera online. Estos resultados tambi√©n nos servir√° como indicador de la confiabilidad hacia la modalidad de compra online. 

Para ello analizaremos los datos obtenidos por personas de los distritos de la ciudad de Lima, mediante una encuesta de Google Forms. Luego, realizaremos la respectiva limpieza de datos, un an√°lisis descriptivo y un an√°lisis probabilistico, de tal manera que podamos mencionar que distrito se ha adaptado con la modalidad de compra online de productos tecnologico.

**Variables Cualitativas:** Sexo, Distrito, Empresa, Producto y Marca.

**Variables Cuantitativas:** Precio, Edad, Tiempo de garant√≠a del producto (Meses), A√±o en el que adquiri√≥ el producto y Que tanto calificas del 1 al 10 la llegada del producto a tu domicilio.

```{r, message=FALSE}
# Instalaci√≥n y apertura de librer√≠as

if(!require(readr)){install.packages("readr")}
if(!require(dplyr)){install.packages("dplyr")}
if(!require(ggplot2)){install.packages("ggplot2")}
if(!require(ggthemes)){install.packages("ggthemes")}

library(readr)
library(dplyr)
library(ggplot2)
library(ggthemes)
```

## **Planificaci√≥n**
En base a la planificaci√≥n, se tiene que cada uno hemos invertido entre 3 y 4 horas al proyecto, de tal manera que podemos observar que han sido 2 personas las que se han encargado de la parte de codificaci√≥n y el resto se encarg√≥ de la parte del estudio de la base de datos. De acuerdo a la disponibilidad de todo el grupo, coordinamos para realizar una reuni√≥n general para poder ver el avance total del proyecto

```{r, echo=FALSE}
data <- data.frame(name = c('a ', 'b ', 'c ', 'd ', 'e ', 'f ', 'g ', 'h ', 'i ', 'j '),

start = c("S02", "S02", "S05", "S05", "S05", "S06", "S06", "S06", "S12", "S13"),
end = c("S03", "S03", "S06", "S06", "S06", "S07", "S07", "S12", "S14", "S14"),
Actividades = c('Tema del proyecto', 'P0', 'Recoleccion de Datos', 'Poblaci√≥n, muestra y muestreo', 'Variables', 'Limpieza de Datos', ' P1', 'Descriptores', 'Variables Aleatorias', 'P2')
)

ggplot(data, aes(x=start, xend=end, y=name, yend=name, color=Actividades)) +
  theme_bw() +
  geom_segment(size=10) +
  labs(title='Planificacion de Actividades', x='Semanas', y='Actividades') +
  scale_colour_manual(values = c('red', 'turquoise', 'gold', 'brown', 'orange', 'violet', 'orange', 'blue', 'lightblue', 'purple'))

```




# **Datos**
```{r, echo = FALSE, warning=FALSE}
# Carga de DataFrame

BD <- read_csv("BasedeDatosProductosTecnologicos.csv", col_types = "cccccncccnncn")

# Eliminamos la columna 'Marca temporal' y 'correo', esto lo proporciona el formulario pero para nuestro proyecto no es de utilidad
BD <- BD[,3:13]

BD %>% rename(Nombre = Nombre, Sexo = `Sexo (M o F)`, Distrito = Distrito, Edad = Edad,  Empresa = `Empresa (de donde pidi√≥ el producto)`, Producto = Producto, Marca = Marca, Precio = `Precio (soles)`, Garantia = `Tiempo de garant√≠a del producto (Meses)`, anho = `A√±o en el que adquiri√≥ el producto`, calificacion = `Que tanto calificas del 1 al 10 la llegada del producto a tu domicilio`) -> BDR

#glimpse(BDR)
```

## **Recolecci√≥n de datos**
La t√©cnica que se utiliz√≥ con la finalidad de recolectar datos para el estudio fue la encuesta mediante Google Forms, la cual estuvo compuesto por 12 preguntas donde 10 de ellas eran de alta relevancia para lo requerido en nuestro proyecto. Nuestro p√∫blico dirigido no solo fue a estudiantes de UTEC sino tambi√©n a individuos en general que hayan realizado una compra durante los 3 a√±os establecidos. El uso de las redes sociales (WhatsApp y otros) fue necesario para alcanzar los 200 datos requeridos y para generar el inter√©s en la unidad muestral fue necesario realizar un sorteo de 50 nuevos soles.

<center>
![](encuesta.jpg){}

## **Poblaci√≥n, muestra y muestreo**
Poblaci√≥n, muestra y muestreo: La poblaci√≥n escogida son las personas de Lima - Per√∫ y la unidad muestral es aquella persona que vive en cualquier distrito de la poblaci√≥n. El tipo de muestreo utilizado es un muestreo por conveniencia. Finalmente luego de hacer la limpieza de datos nuestro tama√±o de la muestra es de 172.

## **Variables**
En primera instancia tenemos 13 variables de las cu√°les 2 son irrelevantes para el estudio Estad√≠stico ya que una de ellas ( Marca Temporal) es generada por Google Forms. Asimismo, la variable Correo sirve b√°sicamente para poder contactar a la persona ganadora del sorteo. Finalmente trabajaremos con 11 variables y son las siguientes:

- Nombre: tipo categ√≥rica nominal, la restricci√≥n es que sea un nombre registrado en el RENIEC. ‚úî
         
- Sexo: tipo categ√≥rica nominal, la restricci√≥n es que pertenezca al sexo Masculino o Femenino. ‚úî 

- Distrito: tipo categ√≥rica nominal, la restricci√≥n es que el distrito pertenezca a uno de los distritos en Lima-Per√∫. ‚úî

- Edad: tipo num√©rica discreta, la restricci√≥n es que sea un entero positivo. ‚úî

- Empresa: tipo categ√≥rica nominal, no tiene restricci√≥n. ‚úî

- Producto: tipo categ√≥rica nominal, la restricci√≥n es que el producto sea un aparato tecnol√≥gico comprado de manera online. ‚úî   

- Marca: tipo categ√≥rica nomianal, la restricci√≥n es que la marca
est√© patentada por INDECOPI. ‚úî    

- Precio: tipo num√©rica continua, la restricci√≥n es que sea un n√∫mero racional positivo. ‚úî      

- Garantia: tipo num√©rica discreta, la restricci√≥n es que sea un entero no negativo. ‚úî

- A√±o: tipo categ√≥rica ordinal, la restricci√≥n es que el a√±o en que se realiz√≥ la compra sea de 2020 al 2022, ya que es el periodo de pandemia. ‚úî

- Calificacion: tipo num√©rica discreta, la restricci√≥n es que sea un entero no negativo entre 1 y 10. ‚úî

## **Limpieza**
```{r, echo = FALSE, message=FALSE}
# Limpieza de la variable Garant√≠a

soloGarantia <- read_csv("BasedeDatosProductosTecnologicos.csv")
soloGarantia <- soloGarantia[,11]

soloGarantia %>% rename(Garantia = `Tiempo de garant√≠a del producto (Meses)`) -> soloGarantia

soloGarantia$Garantia[soloGarantia$Garantia == "1 mes"] <- "1"
soloGarantia$Garantia[soloGarantia$Garantia == "-"] <- "0"
soloGarantia$Garantia[soloGarantia$Garantia == "--"] <- "0"
soloGarantia$Garantia[soloGarantia$Garantia == "1 a√±o"] <- "1"
soloGarantia$Garantia[soloGarantia$Garantia == "12meses"] <- "12"
soloGarantia$Garantia[soloGarantia$Garantia == "6 meses"] <- "6"
soloGarantia$Garantia[soloGarantia$Garantia == "Medio a√±o"] <- "6"

soloGarantia$Garantia[soloGarantia$Garantia == "Ninguno"] <- "0"
soloGarantia$Garantia[soloGarantia$Garantia == "No tiene garant√≠a"] <- "0"
soloGarantia$Garantia[soloGarantia$Garantia == "18 meses"] <- "18"
soloGarantia$Garantia[soloGarantia$Garantia == "24 meses"] <- "24"
soloGarantia$Garantia[soloGarantia$Garantia == "4 meses"] <- "4"
soloGarantia$Garantia[soloGarantia$Garantia == "6Meses"] <- "6"

soloGarantia$Garantia[soloGarantia$Garantia == "Meses"] <- NA
soloGarantia$Garantia[soloGarantia$Garantia == "No"] <- "0"
soloGarantia$Garantia[soloGarantia$Garantia == "Un mes"] <- "1"
soloGarantia$Garantia[soloGarantia$Garantia == "48 meses"] <- "48"
soloGarantia$Garantia[soloGarantia$Garantia == "Nada"] <- "0"
soloGarantia$Garantia[soloGarantia$Garantia == "No hay."] <- "0"

soloGarantia$Garantia[soloGarantia$Garantia == "12 meses"] <- "12"
soloGarantia$Garantia[soloGarantia$Garantia == "2 a√±os"] <- "24"
soloGarantia$Garantia[soloGarantia$Garantia == "3 meses"] <- "3"
soloGarantia$Garantia[soloGarantia$Garantia == "Ninguna"] <- "0"
soloGarantia$Garantia[soloGarantia$Garantia == "no tiene"] <- "0"
soloGarantia$Garantia[soloGarantia$Garantia == "1 a√±o"] <- "1"

soloGarantia$Garantia[soloGarantia$Garantia == "2 meses"] <- "2"
soloGarantia$Garantia[soloGarantia$Garantia == "2 a√±os"] <- "24"
soloGarantia$Garantia[soloGarantia$Garantia == "3 Meses"] <- "3"
soloGarantia$Garantia[soloGarantia$Garantia == "Idk"] <- NA
soloGarantia$Garantia[soloGarantia$Garantia == "ninguno"] <- "0"
soloGarantia$Garantia[soloGarantia$Garantia == "6meses"] <- "6"
soloGarantia$Garantia[soloGarantia$Garantia == "No tiene"] <- "0"

BDR$Garantia  = as.numeric(as.character(soloGarantia$Garantia))
```

```{r, echo = FALSE, message=FALSE}
# Limpieza de la variable Precio

soloPrecio <- read_csv("BasedeDatosProductosTecnologicos.csv")
soloPrecio <- soloPrecio[,10]

soloPrecio %>% rename(Precio = `Precio (soles)`) -> soloPrecio

soloPrecio$Precio[soloPrecio$Precio == "25.00"] <- "25"
soloPrecio$Precio[soloPrecio$Precio == "4 500"] <- "4500"
soloPrecio$Precio[soloPrecio$Precio == "50soles"] <- "50"
soloPrecio$Precio[soloPrecio$Precio == "70 soles"] <- "70"
soloPrecio$Precio[soloPrecio$Precio == "2 soles"] <- "2"
soloPrecio$Precio[soloPrecio$Precio == "300 d√≥lares"] <- "1137.18"
soloPrecio$Precio[soloPrecio$Precio == "72.00 soles"] <- "72"

soloPrecio$Precio[soloPrecio$Precio == "2,058"] <- "2058"
soloPrecio$Precio[soloPrecio$Precio == "2000 aprox"] <- "2000"
soloPrecio$Precio[soloPrecio$Precio == "S/ 4.50"] <- "4.50"
soloPrecio$Precio[soloPrecio$Precio == "50 soles caja"] <- "50"
soloPrecio$Precio[soloPrecio$Precio == "2,499"] <- "2499"
soloPrecio$Precio[soloPrecio$Precio == "2000 soles"] <- "2000"
soloPrecio$Precio[soloPrecio$Precio == "890.00 soles"] <- "890"

soloPrecio$Precio[soloPrecio$Precio == "S/799"] <- "799"
soloPrecio$Precio[soloPrecio$Precio == "1500 soles"] <- "1500"
soloPrecio$Precio[soloPrecio$Precio == "1900 soles"] <- "1900"
soloPrecio$Precio[soloPrecio$Precio == "2,600.00"] <- "2600"
soloPrecio$Precio[soloPrecio$Precio == "35 soles"] <- "35"
soloPrecio$Precio[soloPrecio$Precio == "2000 soles"] <- "2000"
soloPrecio$Precio[soloPrecio$Precio == "2.000.000"] <- "2000"

soloPrecio$Precio[soloPrecio$Precio == "3 mil soles"] <- "3000"
soloPrecio$Precio[soloPrecio$Precio == "60 d√≥lares"] <- "227.44"
soloPrecio$Precio[soloPrecio$Precio == "399.99 d√≥lares"] <- "1516.24"
soloPrecio$Precio[soloPrecio$Precio == "500usd"] <- "1895.30"
soloPrecio$Precio[soloPrecio$Precio == "--"] <- NA

BDR$Precio  = as.numeric(as.character(soloPrecio$Precio))
```

```{r, echo = FALSE}
# Limpieza de variable Sexo

BDR %>% mutate(Sexo= 
          ifelse(Sexo=="Femenina","F",
          ifelse(Sexo=="femenino","F",
          ifelse(Sexo=="Femenino","F",
          ifelse(Sexo=="Fenemino","F",
          ifelse(Sexo=="Maculino","M",
          ifelse(Sexo=="masculino","M",
          ifelse(Sexo=="Masculino","M",
          Sexo)))))))) -> BDR
```

```{r, echo = FALSE}
# Limpieza de la variable Distrito

BDR = BDR[BDR$Distrito != "Amarilis" & BDR$Distrito != "Cusco" & BDR$Distrito != "Marav√≠ Guanilo" & BDR$Distrito != "Provincia" & BDR$Distrito != "Castilla" & BDR$Distrito != "Ayacucho - Huamanga" & BDR$Distrito != "Huaura" & BDR$Distrito != "Piura",] # Solo distritos de Lima

BDR %>% mutate(Distrito= 
          ifelse(Distrito=="Villa el salvador","V.E.S",
          ifelse(Distrito=="Villa el Salvador","V.E.S",
          ifelse(Distrito=="VMT","V.M.T",
          ifelse(Distrito=="Villa Mar√≠a del Triunfo","V.M.T",
          ifelse(Distrito=="S. J. L","S.J.L",
          ifelse(Distrito=="San juan de lurigancho","S.J.L",
          ifelse(Distrito=="SJL","S.J.L",
          ifelse(Distrito=="Lurigancho","S.J.L",
          ifelse(Distrito=="S.j.L","S.J.L",
          ifelse(Distrito=="San de Lurigancho","S.J.L",
          ifelse(Distrito=="San Juan de lurigancho","S.J.L",
          ifelse(Distrito=="S.J.L.","S.J.L",
          ifelse(Distrito=="San Juan de Lurigancho","S.J.L",
          ifelse(Distrito=="San Juan de Luriganch","S.J.L",
          ifelse(Distrito=="Sjl","S.J.L",
          ifelse(Distrito=="San Juan de Miraflores","S.J.M",
          ifelse(Distrito=="San martin de porres","S.M.P",
          ifelse(Distrito=="San Martin de Porres","S.M.P",
          ifelse(Distrito=="Smp","S.M.P",
          ifelse(Distrito=="San Mart√≠n de Porres","S.M.P",
          ifelse(Distrito=="SMP","S.M.P",
          ifelse(Distrito=="Santiago de surco","Surco",
          ifelse(Distrito=="Santiago de Surco","Surco",
          ifelse(Distrito=="Santiago","Surco",
          ifelse(Distrito=="Cercado","Cercado de Lima",
          ifelse(Distrito=="CERCADO DE LIMA","Cercado de Lima",
          ifelse(Distrito=="Lima","Cercado de Lima",
          ifelse(Distrito=="Vitarte","Ate",
          ifelse(Distrito=="La molina","La Molina",
          ifelse(Distrito=="Los olivos","Los Olivos",
          ifelse(Distrito=="La victoria","La Victoria",
          ifelse(Distrito=="Lima la victoria","La Victoria",
          ifelse(Distrito=="El agustino","El Agustino",
          ifelse(Distrito=="San miguel","San Miguel",
          ifelse(Distrito=="San  Miguel","San Miguel",
          ifelse(Distrito=="cararabayllo","Carabayllo",
          ifelse(Distrito=="chorrillos","Chorrillos",
          ifelse(Distrito=="Puente piedra","Puente Piedra",
          ifelse(Distrito=="Santa","Santa Anita",
          Distrito)))))))))))))))))))))))))))))))))))))))) -> BDR
```

```{r, echo = FALSE}
# Limpieza de la variable Marca

BDR = BDR[BDR$Marca != "--" & BDR$Marca != "." & BDR$Marca != "Avon" & BDR$Marca != "Adida." & BDR$Marca != "Inka kola" & BDR$Marca != "Tambo" & BDR$Marca != "Ninguna" & BDR$Marca != "Kn95" & BDR$Marca != "Sybilla" & BDR$Marca != "Tigre" & BDR$Marca != "Hoja verde" & BDR$Marca != "Nada" & BDR$Marca != "Puma" & BDR$Marca != "TMR" & BDR$Marca != "Topitop" & BDR$Marca != "Puma" & BDR$Marca != "Carolina Herrera" & BDR$Marca != "Pandemia cov" & BDR$Marca != "Vortex" & BDR$Marca != "Keter" & BDR$Marca != "Pearson",] # Solo productos tecnol√≥gicos
```

```{r, echo = FALSE}
# Limpieza de la variable Empresa

BDR$Empresa = toupper(BDR$Empresa)

BDR = BDR[BDR$Empresa != "NINGUNA" & BDR$Empresa != "NO PED√ç NING√öN PRODUCTO" & BDR$Empresa != "NO PED√ç NADA" & BDR$Empresa != "--" & BDR$Empresa != "NO COMPRO" & BDR$Empresa != "TIENDAS TAMBO" & BDR$Empresa != "TIENDA" & BDR$Empresa != "SAN CRIST√ìBAL" & BDR$Empresa != "LIMA",] # Solo distritos de Lima 

BDR %>% mutate(Empresa= 
          ifelse(Empresa=="( ME OLVIDE ):(",NA,
          ifelse(Empresa=="NO ME ACUERDO :(",NA,
          Empresa))) -> BDR

# TABLET -> Ripley (Escribi√≥ el producto en la variable Empresa y viceversa)
BDR$Empresa[BDR$Empresa == "TABLET"] <- "Ripley"
```

```{r, echo = FALSE}
# Limpieza de la variable Producto

BDR$Producto = toupper(BDR$Producto)

BDR = BDR[BDR$Producto != "CEREALES" & BDR$Producto != "PACKS DE LIMPIEZA" & BDR$Producto != "PERFUME" & BDR$Producto != "ZAPATILLA" & BDR$Producto != "CAMISA." & BDR$Producto != "POLERA" & BDR$Producto !="ROPA(JEANS)" & BDR$Producto != "ROPA" & BDR$Producto != "CARTAS TEM√ÅTICAS" & BDR$Producto != "MASCARILLAS" & BDR$Producto != "ZERO TWO" & BDR$Producto != "MASCARILLAS KN95" & BDR$Producto !="SILLA GARENCIAL ASENTI SAN REMO" & BDR$Producto !="ARMARIO" & BDR$Producto !="ZAPATILLAS",] # No son productos tecnol√≥gicos

# Ripley -> TABLET (Escribi√≥ el producto en la variable Empresa y viceversa)
BDR$Producto[BDR$Producto == "Ripley"] <- "TABLET"
```

* **Sexo:**

  - convertir todos los valores a F, M o NA

* **Distrito:**

  - convertir las diferentes formas de escribir un distrito a solo una (ej: VES, ves, v.e.s a V.E.S)
  
  - Solo distritos de Lima, los no pertenecientes se eliminan de la base de datos

* **Empresa, Producto y Marca:**

  - Solo productos tecnol√≥gicos, los no pertenecientes se eliminan de la base de datos
  
  - Relaci√≥n coherente entre Empresa - Producto - Marca

* **Precio:**

  - Valores como "40 d√≥lares, 20 soles, etc" convertidos a solo valor en soles



# **An√°lisis Descriptivo**

## **Descriptores gr√°ficos**

### **Distritos con mayores compras**

Hemos seleccionado los distritos con compras online mayores o igual a 10. En primer lugar tenemos al distrito de S.J.L con 21 compras, en segundo lugar tenemos al distrito de Los Olivos con 17 compras, y en el tercer lugar tenemos a los distritos S.M.P y Surco con 15 compras.
```{r, echo = FALSE}
Distritos <- BDR$Distrito

#table(Distritos)
#table(Distritos)[table(Distritos) >= 10]

barplot(table(Distritos)[table(Distritos) >= 10], xlab = "Distritos", ylab = "N√∫mero de compras", col = rainbow(4), ylim = c(0, 25))
```
### **N√∫mero de Compras por A√±o**

Tambi√©n podemos observar que el a√±o en el cual se han realizado la mayor cantidad de compras es en el 2021 (96 compras).
```{r, echo = FALSE}
Anho <- BDR$anho

#table(Anho)

barplot(table(Anho) , col = rainbow(3), xlab = "A√±o", ylab = "N√∫mero de compras", ylim = c(0, 100))
```

### **Garant√≠a**

Esta gr√°fica nos indica las diferentes garant√≠as ofrecidas para cada producto. Se observa que la Garant√≠a est√° concentrada entre 6 y 12 meses. Sin embargo, existen 3 datos at√≠picos, que indican que las personas que compraron de manera online un producto tecnol√≥gico optaron por una garant√≠a mucho mayor a la promedio.

```{r, echo = FALSE}
Garantia<-BDR$Garantia

#table(Garantia)

boxplot(Garantia , horizontal = T, col = "skyblue")
abline(v=mean(Garantia,na.rm=TRUE),col="firebrick4",lwd=2)
```

## **Descriptores num√©ricos**

Los productos mayormente ofrecen una garant√≠a de 12 meses (moda)
```{r, echo = FALSE}
table(Garantia)
```

El precio promedio es de S/ 1724.00 y vemos que el m√≠nimo y m√°ximo precio de un producto son S/ 2.1 y S/ 9999.00 respectivamente.
Tambi√©n, la calificaci√≥n promedio otorgada a la Empresa en donde se hizo la compra online es de 8.36 (muestra un alto grado de conformidad con la Empresa). 
```{r, echo = FALSE}
DesNum<-function(X){
  return(list(Min=round(min(X,na.rm=TRUE),2),
              Max=round(max(X,na.rm=TRUE),2),
              Mean=round(mean(X,na.rm = TRUE ),2), 
              Median=round(median(X, na.rm = TRUE),2), 
              SD=round(sd(X,na.rm=TRUE),2), 
              CV=round((sd(X,na.rm=TRUE)/mean(X,na.rm=TRUE)),2),
              IQR=round(IQR(X,na.rm=TRUE),2)))
}

mapply(DesNum, list(Precio = BDR$Precio, 
                          Garant√≠a = BDR$Garantia, 
                          Calificaci√≥n = BDR$calificacion))
```



# **An√°lisis Probabilistico**

## **Modelos de Variables Discretas**

### **Aplicaci√≥n del Modelo Binomial Negativo**

Queremos seleccionar a los 2 ganadores del sorteo, los pondremos en una ruleta para elegir a los ganadores. Cu√°n probable es de que los ganadores del sorteo pertenezcan al distrito con mayor compras online (S.J.L).

* √âxito -> personas que pertenezcan al Distrito con m√°s compras online (SJL)
* Fracaso -> personas que no pertenezcan al Distrito con m√°s compras online (SJL)

Variable aleatoria: ùëø=# de sorteos realizados hasta tener k √©xitos.

* P(√©xito) : 21 (# personas de S.JL) / 172 (# total de personas)
* k : queremos 2 ganadores del distrito de S.J.L

Definimos variablels en R:
```{r}
X = 2
k = 2
total = 172
CO = 21
Pe = CO/total

choose(X-1, k-1)*(Pe^k)*((1-Pe)^(X-k))
```
Con el comando "dnbinom":
```{r}
dnbinom(X-k, k, Pe)
```


Y ¬øSi quisi√©ramos la probabilidad de alg√∫n otro distrito (ej: Surquillo)?
```{r}
X = 2
k = 2
total = 172
CO = 4
Pe = CO/total

choose(X-1, k-1)*(Pe^k)*((1-Pe)^(X-k))
```

Con el comando "dnbinom":
```{r}
dnbinom(X-k, k, Pe)
```
### **Aplicaci√≥n del Modelo Hipergeom√©trico**

Elegimos la variable Distrito que representa todos los distritos de Lima en donde se ha realizado una compra de manera online.

Justificaci√≥n:

- A trav√©s de la Variable Distrito podemos extraer el total de personas que ha adquirido un aparato tecnol√≥gico en cada distrito. 

```{r}
# Recordamos los distritos con m√°s compras online 
table(Distritos)[table(Distritos) >= 10]
```

Entonces:

SJL = Distrito con m√°s compras online (21)

* √âxito -> personas que compraron aparatos tecnol√≥gicos de SJL.

* Fracaso -> personas que no compraron aparatos tecnol√≥gicos de SJL.

Definimos entonces *la Variable Aleatoria X* que cuenta el n√∫mero de personas que compraron un aparato tecnol√≥gico de SJL de 172 encuestados.

A nuesta variable aleatoria le asignamos el modelo tal que: 
          **X ~ Hypergeom√©trico (N,M,n)}**

*Donde:*
* M -> total de personas que compraron aparatos tecnol√≥gicos de SJL (√âxito)
* N -> total de personas que compraron aparatos tecnol√≥gicos
* n -> muestreo/una parte del total

*Ejemplo:*
A modo de aplicaci√≥n, de preferencia podemos sugerir que el tama√±o de una parte de la muestra sea igual a 50. Si tenemos en total 21 personas que adquirieron un aparato del distrito SJL de de un total de 172 personas. ¬øCu√°l es la probabilidad de que a lo mucho 5 sean las personas que compraron aparatos tecnol√≥gicos de ese distrito?

```{r}
#x<=5
# P(x<=5)
N = 172
M = 21
n = 50

phyper(5,M,N-M,n)
```


De igual manera si quisieramos que exactamente sean 5 las personas que hayan comprado un aparato tecnol√≥gico de ese distrito.

P(X=x) = (C(M,x).C(N-M,n-x))/C(N,n)
```{r}
#P(x=5)
x=5
(choose(M,x)*choose(N-M,n-x))/(choose(N,n))
```
Con el comando "dhyper":
```{r}
dhyper(5,M,N-M,n)
```

## **Modelos de Variables Continuas**

### **Aplicaci√≥n del Modelo Uniforme**

Haremos uso de la variable Garant√≠a ya que esta nos muestra los meses de garant√≠a ofrecidos con la compra virtual de un aparato tecnol√≥gico.

Justificaci√≥n:

- Mediante un boxplot podemos inferir que la concentraci√≥n del valor de las garant√≠as ofrecidas en todo Lima oscilan entre 6 y 12 meses. Entonces diremos que la distribuci√≥n es uniforme en el rango $[6;12]$. 

```{r, echo = FALSE} 
Garantia<-BDR$Garantia
#table(Garantia)
boxplot(Garantia , horizontal = T, col = "skyblue")
abline(v=mean(Garantia,na.rm=TRUE),col="firebrick4",lwd=2)
```

*Ejemplo:*

Aplicaci√≥n:
Supongamos que una persona compra aparatos tecnol√≥gicos en periodo de pandemia, ¬øCu√°l es la probabilidad de adquirir un aparato con una garant√≠a entre 7 y 11 meses?

Creamos la variable y = aparatos con una garant√≠a entre 6 y 12 meses ~ $U[6;12]$

m√≠nima garant√≠a = 6 ~ a ; m√°xima garant√≠a = 12 ~ b

Para hallar la probabilidad:
P(x en un intervalo) = (La medida del intervalo)/(La medida total del rango de y)
                     = $ùëÉ(ùíÑ ‚â§ ùíô ‚â§ ùíÖ ) = ùëÉ(ùíÑ < ùíô < ùíÖ) = (ùëë‚àíùëê)/(ùëè‚àíùëé)$
                     
```{r}
minRangY = 6
maxRangY = 12
MedRango = maxRangY - minRangY

MedInterval = 11 - 7

Prob = MedInterval/MedRango
Prob
```

Con el comando "punif":
Inferimos:  $P( c < x <d) = P(x < d) - P(x < c)$

```{r}
punif(11, 6, 12) - punif(7, 6, 12)
```
Entonces:
¬øCu√°l ser√≠a la garant√≠a a esperar por alg√∫n comprador online al adquirir un aparato tecnol√≥gico?

Piden: E(x) = (a+b)/2

```{r}
Ex <- (minRangY + maxRangY) /2
Ex
```

La garant√≠a esperada por alg√∫n comprador online es de 9 meses.





















