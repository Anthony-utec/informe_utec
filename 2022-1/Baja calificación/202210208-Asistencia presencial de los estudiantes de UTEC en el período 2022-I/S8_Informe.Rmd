---
title: "P2 Informe"
date: '2022-06-24'
output:
  html_document:
    toc: yes
    toc_depth: 5
    toc_float:
      collapsed: no
      smooth_scroll: yes
  pdf_document:
    toc: yes
    toc_depth: '5'
---

# "Asistencia de los estudiantes de UTEC en el período 2022-1"

![](UTEC.jpg){width="100%" height="100%"}

## Introducción

### Relevancia


La relevancia de este proyecto radica en primer lugar en el contexto que
toma, pues representa una realidad por la que toda la comunidad de
estudiantes en UTEC ha pasado y por la que no se han obtenido resultados
tan satisfactorios.Se sabe que el regreso progresivo a la universidad ha
permitido llegar hasta hace poco a una modalidad híbrida en cuanto a la
asistencia a las clases; sin embargo, se ha observado que gran parte de
los alumnos aún prefieren seguirlas de manera virtual, dejando así, de
asistir presencialmente al campus. Tal decisión puede deberse a diversos
factores, y la relevancia del proyecto en este caso, también aumenta,
pues conociendo cuales son aquellos principales motivos de inasistencia
al campus, podrá servir de ayuda no solo a los mismos estudiantes, sino
al equipo de UTEC que vela por el bienestar del estudiante, para así
brindar una experiencia óptima de aprendizaje y estancia en el Campus.

### Objetivos

**Objetivo general:**

-   Encontrar y estudiar los patrones de asistencia presencial de los estudiantes de UTEC durante las dos primeras semanas en la modalidad híbrida del periodo académico 2022-1.

**Objetivos específicos:**

-   Utilizar descriptores estadísticos para determinar de manera precisa la relación entre variables.

-   Comparar las diferencias en los comportamientos de las variables.



### Planificación

La planificación del proyecto se extenderá durante todo el ciclo, por lo
cual, hace falta un método adecuado de planificación (Diagrama de Gantt)

![](.\DiagramaFact.png){width="100%" height="100%"}

## Datos

### Recolección de datos

Para poder cumplir con la recolección de datos, se optó por realizar una
encuesta mediante la plataforma Google Forms, permitiéndonos así,
obtener la data necesaria para desarrollar y alcanzar los objetivos del
tema planteado. En primer lugar se formularon preguntas buscando que
estas estén asociadas a nuestras variables de estudio y a lo que se
pretende buscar; se tomó en cuenta además, que las personas encuestadas
formaran parte de la comunidad estudiantil de UTEC. Los canales por los
que se distribuyó la encuesta fueron las aplicaciones de Telegram,
WhatsApp y los espacios del campus de la universidad, utilizando los
momentos libres de algunos de nuestros compañeros para que puedan así,
llenar las encuestas; se evitó por otra parte, el uso de Gmail y envío
de correos, ya que eso podría llegar a generar incomodidad en algunos
compañeros e inclusive, la saturación de la plataforma o identificación
errónea como spam.

### Población, muestra y muestreo

- Alumnos de UTEC, tanto pertenecientes al grupo 1 como al grupo 2 y de
cualquier ciclo.

- Nuestra muestra serán todos los alumnos que llenan la encuesta que
planteamos.

- Muestreo por conveniencia.

### Variables

|    Variable     |  Tipo de Variable  |                                   Restricciones                                   |                                              Descripción                                               |
|:----------------:|:-----------------:|:----------------:|:----------------:|
|      Ciclo      | Categórica ordinal |                        Toma un número entero entre 1 y 10                         |                                    Indica el ciclo del estudiante.                                     |
|     Escala      | Categórica ordinal |                Toma un carácter que podrá estar entre A,B,C,D o E                 |                                       Indica la pensión de pago.                                       |
|   Cant_Cursos   | Numérica discreta  |                Puede tomar un número no menor de 3 y no mayor a 9                 |                                  Cantidad de cursos que se matriculó.                                  |
|      Zona       | Categórica nominal |                  Toma una de las opciones permitidas en el Forms                  |                                  Lugar de residencia del estudiante.                                   |
|     Tiempo      | Numérica discreta  |          Se expresa con unidades en minutos y debe ser un número entero           |                     Minutos que tarda transportarse desde y hacia el Campus al día                     |
|     Costo_v     | Numérica continua  |                     Números con decimales, no mayores a 50.00                     |                 Monto en soles destinado al transporte desde y hacia el campus al día                  |
|     Costo_a     | Numérica continua  |                     Números con decimales, no mayores a 50.00                     |                          Monto en soles destinado a la alimentación en un día                          |
| Grupos_Hibridos | Categórica nominal |               Se ve representada por un carácter, ya sea "1" o "2"                |                                  Grupo al que pertenece el estudiante                                  |
|  NoAsistencia   | Numérica discreta  |                      Número entero positivo y no mayor a 12                       |      Días de inasistencia al campus del estudiante durante las dos primeras semanas presenciales.      |
|  FaltasSemana1  | Categórica nominal |                     Días de la semana a excepción del domingo                     |                       Días de inasistencia presencial durante la primera semana                        |
|  FaltasSemana2  | Categórica nominal |                     Días de la semana a excepción del domingo                     |                       Días de inasistencia presencial durante la segunda semana                        |
| ClasesTemprano  | Categórica nominal |                     Días de la semana a excepción del domingo                     |                           Días con la hora más temprana de inicio de clases                            |
|   ClasesTarde   | Categórica nominal |                     Días de la semana a excepción del domingo                     |                               Días con la clase con el horario más tarde                               |
|    MasHoras     | Categórica nominal |                     Días de la semana a excepción del domingo                     |                       Días cargados y con más horas de clases para el estudiante                       |
|   MenosHoras    | Categórica nominal |                     Días de la semana a excepción del domingo                     |               Días más libres y con menor cantidad de horas de clase para el estudiante                |
|   Espaciadas    | Categórica nominal |                     Días de la semana a excepción del domingo                     | Días con más tiempos espaciados entre una clase y otra, considerándose a partir de 3 horas en adelante |                 |

## Limpieza de datos

```{r}
library(readr)
library(dplyr)
library(modeest)
library(ggplot2)
library(fitdistrplus)

```

```{r}
DF <- read_csv("Database.csv")

```

```{r}
spec(DF)
```
Para poder hacer una limpieza de datos cambiaremos el nombre de nuestras
variables para que sean más manejables.

```{r}
DF %>% rename(Ciclo = "¿En qué ciclo te encuentras?"
              , Escala = "¿Cuál es su escala de pago a UTEC?"
              , Cant_Cursos = "¿A cuántos cursos esta inscrito durante este ciclo? (Ejemplo: 6)"
              , Zona = "¿En qué zona vives?" 
              , Tiempo = "Tiempo de viaje en minutos para ir y regresar a la UTEC (sume el tiempo de su tramo de ida más tramo de vuelta)(en caso de vivir en pronvicia rellenar con: NA) (Ejemplo: 98)"
              , Costo_v = "¿Cuánto es el costo de viaje?(sume el costo de su tramo de ida más tramo de vuelta)(en caso de no usar transporte público o privado colocar: 0)(En caso de tener movilidad privada poner el gasto en combustible)(Ejemplo: 10.00)"
              , Costo_a = "¿Cuánto es el costo de alimentos cuando vienes a la UTEC?(Ejemplo: 25.00)"
              , Grupos_Hibridos = "Grupo de modalidad híbrida al que perteneces (\"1\" - A hasta K )(\"2\" - L hasta Z)"
              , NoAsistencia = "¿Cuántos días no asistió durante sus primeras dos semanas de modalidad presencial?(Grupo 1  - Semana 1 y 2; Grupo 2 - Semana 3 y 4)(Ejemplo: 5)"
              , FaltasSemana1 = "¿Qué días faltaste en la primera semana que a tu grupo le toca la modalidad presencial?"  
              , FaltasSemana2 = "¿Qué días faltaste en la segunda semana que a tu grupo le toca la modalidad presencial?"
              , ClasesTemprano = "¿Qué día(s) es (son) tu(s) clase(s) más temprana(s)?"
              , ClasesTarde = "¿Qué día(s) es (son) tu(s) clase(s) más tarde?"
              , MasHoras = "¿Cuál(es) es(son) el(los) día(s) con más horas de clases que tienes?"
              , MenosHoras = "¿Cuál(es) es(son) el(los) día(s) con menos horas de clases que tienes?"
              , Espaciadas = "¿En qué días tienes clases espaciadas?(considera clases espaciadas a partir de 3 horas entre clases)(Ejemplo : 1)"
              ) -> DF
```

Tenemos

```{r}
nrow(DF)
```

observaciones en total.

Recordar que esta cantidad de observaciones contiene datos vacíos y
observaciones vacías que entorpecerían el análisis.

Para esto tenemos el porcentaje de datos faltantes.

```{r}
sum(is.na(DF))/(nrow(DF)*ncol(DF))*100
```

y el siguiente porcentaje de observaciones faltantes.

```{r}
sum(!complete.cases(DF))/nrow(DF)*100
```

El porcentaje de observaciones incompletas no es muy grande, por ende
podríamos optar por descartarlos.

Sabemos que en la variable `Zona` se consideraron diversas opciones.

```{r}
table(DF$Zona)
```

También podemos ver que los nombres de estas opciones son muy largas
entonces quitaremos las especificaciones de cada una estas, quedando así
nombres más manejables

```{r}
DF$Zona[DF$Zona=="Central (Cercado, San Luis, Breña, La Victoria, Rímac, Lince, San Miguel, Jesús María, Magdalena, Pblo. Libre)"]<-"Central"
DF$Zona[DF$Zona=="Central Sur (Barranco, Miraflores, Surco, San Borja, Surquillo, San Isidro, Chorrillos)" ]<-"Central Sur"
DF$Zona[DF$Zona=="Este (S. J. de Lurigancho, Sta. Anita, Cieneguilla, Ate Vitarte, La Molina, Chaclacayo, Lurigancho, El Agustino)"]<-"Este"
DF$Zona[DF$Zona=="Norte(Ancón, Pte. Piedra, Sta. Rosa, Carabayllo, Comas, Los Olivos, Independencia, S.M. Porres)"]<-"Norte"
DF$Zona[DF$Zona=="Sur (S. J. de Miraflores, V.M. de Triunfo, Villa el Salvador, Lurín y Pachacamac)"]<- "Sur"
```

Ahora procederemos a eliminar las observaciones que contenga `Provincia`
debido a que en algunas variables mostrarán inconsistencias y podría
arrojarnos resultados que afectarían al análisis posterior.

```{r}
DF[!(DF$Zona == "Provincia"),]->DF
```

Viendo la cantidad actual de observaciones,

```{r}
nrow(DF)
```

Se llega a discernir que no hay una reducción drástica de observaciones.

```{r}
names(DF)
```

Ya hemos terminado con el cambio de nombre en todas las variables que usaremos; ahora pasaremos a usar el comando `grep`, lo usaremos en las siguientes variables `FaltasSemana2`, `FaltasSemana1`, `MenosHoras`, `Mashoras`, `Espaciadas`, `ClaseTemprano` y `ClasesTarde`, esto debido a que las respuestas obtenidas fuera de opción múltiple. Por esa misma razón se decide hacer uso del comando mencionado anteriormente.

**Faltas semana 1**

```{r}
DF$LunesFaltS1 <- NA
DF$MartesFaltS1 <- NA
DF$MiercolesFaltS1 <- NA
DF$JuevesFaltS1 <- NA
DF$ViernesFaltS1 <- NA
DF$SabadoFaltS1 <- NA

DF$LunesFaltS1[grep("Lunes", DF$FaltasSemana1)] <- "Sí"
DF$MartesFaltS1[grep("Martes", DF$FaltasSemana1)] <- "Sí"
DF$MiercolesFaltS1[grep("Miércoles", DF$FaltasSemana1)] <- "Sí"
DF$JuevesFaltS1[grep("Jueves", DF$FaltasSemana1)] <- "Sí"
DF$ViernesFaltS1[grep("Viernes", DF$FaltasSemana1)] <- "Sí"
DF$SabadoFaltS1[grep("Sábado", DF$FaltasSemana1)] <- "Sí"

DF$LunesFaltS1[is.na(DF$LunesFaltS1)] <- "No"
DF$MartesFaltS1[is.na(DF$MartesFaltS1)] <- "No"
DF$MiercolesFaltS1[is.na(DF$MiercolesFaltS1)] <- "No"
DF$JuevesFaltS1[is.na(DF$JuevesFaltS1)] <- "No"
DF$ViernesFaltS1[is.na(DF$ViernesFaltS1)] <- "No"
DF$SabadoFaltS1[is.na(DF$SabadoFaltS1)] <- "No"


```

**Faltas Semana 2**

```{r}
DF$LunesFaltS2 <- NA
DF$MartesFaltS2 <- NA
DF$MiercolesFaltS2 <- NA
DF$JuevesFaltS2 <- NA
DF$ViernesFaltS2 <- NA
DF$SabadoFaltS2 <- NA

DF$LunesFaltS2[grep("Lunes", DF$FaltasSemana2)] <- "Sí"
DF$MartesFaltS2[grep("Martes", DF$FaltasSemana2)] <- "Sí"
DF$MiercolesFaltS2[grep("Miércoles", DF$FaltasSemana2)] <- "Sí"
DF$JuevesFaltS2[grep("Jueves", DF$FaltasSemana2)] <- "Sí"
DF$ViernesFaltS2[grep("Viernes", DF$FaltasSemana2)] <- "Sí"
DF$SabadoFaltS2[grep("Sábado", DF$FaltasSemana2)] <- "Sí"

DF$LunesFaltS2[is.na(DF$LunesFaltS2)] <- "No"
DF$MartesFaltS2[is.na(DF$MartesFaltS2)] <- "No"
DF$MiercolesFaltS2[is.na(DF$MiercolesFaltS2)] <- "No"
DF$JuevesFaltS2[is.na(DF$JuevesFaltS2)] <- "No"
DF$ViernesFaltS2[is.na(DF$ViernesFaltS2)] <- "No"
DF$SabadoFaltS2[is.na(DF$SabadoFaltS2)] <- "No"



```

**Días con clases mas temprano**

```{r}
DF$LunesClasTemp <- NA
DF$MartesClasTemp <- NA
DF$MiercolesClasTemp <- NA
DF$JuevesClasTemp <- NA
DF$ViernesClasTemp <- NA
DF$SabadoClasTemp <- NA

DF$LunesClasTemp[grep("Lunes", DF$ClasesTemprano)] <- "Sí"
DF$MartesClasTemp[grep("Martes", DF$ClasesTemprano)] <- "Sí"
DF$MiercolesClasTemp[grep("Miércoles", DF$ClasesTemprano)] <- "Sí"
DF$JuevesClasTemp[grep("Jueves", DF$ClasesTemprano)] <- "Sí"
DF$ViernesClasTemp[grep("Viernes", DF$ClasesTemprano)] <- "Sí"
DF$SabadoClasTemp[grep("Sábado", DF$ClasesTemprano)] <- "Sí"

DF$LunesClasTemp[is.na(DF$LunesClasTemp)] <- "No"
DF$MartesClasTemp[is.na(DF$MartesClasTemp)] <- "No"
DF$MiercolesClasTemp[is.na(DF$MiercolesClasTemp)] <- "No"
DF$JuevesClasTemp[is.na(DF$JuevesClasTemp)] <- "No"
DF$ViernesClasTemp[is.na(DF$ViernesClasTemp)] <- "No"
DF$SabadoClasTemp[is.na(DF$SabadoClasTemp)] <- "No"

```

**Días con clases mas tarde**

```{r}
DF$LunesClasTard <- NA
DF$MartesClasTard <- NA
DF$MiercolesClasTard <- NA
DF$JuevesClasTard <- NA
DF$ViernesClasTard <- NA
DF$SabadoClasTard <- NA

DF$LunesClasTard[grep("Lunes", DF$ClasesTarde)] <- "Sí"
DF$MartesClasTard[grep("Martes", DF$ClasesTarde)] <- "Sí"
DF$MiercolesClasTard[grep("Miércoles", DF$ClasesTarde)] <- "Sí"
DF$JuevesClasTard[grep("Jueves", DF$ClasesTarde)] <- "Sí"
DF$ViernesClasTard[grep("Viernes", DF$ClasesTarde)] <- "Sí"
DF$SabadoClasTard[grep("Sábado", DF$ClasesTarde)] <- "Sí"

DF$LunesClasTard[is.na(DF$LunesClasTard)] <- "No"
DF$MartesClasTard[is.na(DF$MartesClasTard)] <- "No"
DF$MiercolesClasTard[is.na(DF$MiercolesClasTard)] <- "No"
DF$JuevesClasTard[is.na(DF$JuevesClasTard)] <- "No"
DF$ViernesClasTard[is.na(DF$ViernesClasTard)] <- "No"
DF$SabadoClasTard[is.na(DF$SabadoClasTard)] <- "No" 
 
```

**Días con menos horas de clase**

```{r}

DF$LunesMeH <- NA
DF$MartesMeH <- NA
DF$MiercolesMeH <- NA
DF$JuevesMeH <- NA
DF$ViernesMeH <- NA
DF$SabadoMeH <- NA

DF$LunesMeH[grep("Lunes", DF$MenosHoras)] <- "Sí"
DF$LunesMeH[is.na(DF$LunesMeH)] <- "No"
DF$LunesMeH[is.na(DF$MenosHoras)] <- NA

DF$MartesMeH[grep("Martes", DF$MenosHoras)] <- "Sí"
DF$MartesMeH[is.na(DF$MartesMeH)] <- "No"
DF$MartesMeH[is.na(DF$MenosHoras)] <- NA

DF$MiercolesMeH[grep("Miércoles", DF$MenosHoras)] <- "Sí"
DF$MiercolesMeH[is.na(DF$MiercolesMeH)] <- "No"
DF$MiercolesMeH[is.na(DF$MenosHoras)] <- NA

DF$JuevesMeH[grep("Jueves", DF$MenosHoras)] <- "Sí"
DF$JuevesMeH[is.na(DF$JuevesMeH)] <- "No"
DF$JuevesMeH[is.na(DF$MenosHoras)] <- NA

DF$ViernesMeH[grep("Viernes", DF$MenosHoras)] <- "Sí"
DF$ViernesMeH[is.na(DF$ViernesMeH)] <- "No"
DF$ViernesMeH[is.na(DF$MenosHoras)] <- NA

DF$SabadoMeH[grep("Sábado", DF$MenosHoras)] <- "Sí"
DF$SabadoMeH[is.na(DF$SabadoMeH)] <- "No"
DF$SabadoMeH[is.na(DF$MenosHoras)] <- NA
```

**Días con mas horas de clase**

```{r}

DF$LunesMaH <- NA
DF$MartesMaH <- NA
DF$MiercolesMaH <- NA
DF$JuevesMaH <- NA
DF$ViernesMaH <- NA
DF$SabadoMaH <- NA

DF$LunesMaH[grep("Lunes", DF$MasHoras)] <- "Sí"
DF$LunesMaH[is.na(DF$LunesMaH)] <- "No"
DF$LunesMaH[is.na(DF$MasHoras)] <- NA

DF$MartesMaH[grep("Martes", DF$MasHoras)] <- "Sí"
DF$MartesMaH[is.na(DF$MartesMaH)] <- "No"
DF$MartesMaH[is.na(DF$MasHoras)] <- NA

DF$MiercolesMaH[grep("Miércoles", DF$MasHoras)] <- "Sí"
DF$MiercolesMaH[is.na(DF$MiercolesMaH)] <- "No"
DF$MiercolesMaH[is.na(DF$MasHoras)] <- NA

DF$JuevesMaH[grep("Jueves", DF$MasHoras)] <- "Sí"
DF$JuevesMaH[is.na(DF$JuevesMaH)] <- "No"
DF$JuevesMaH[is.na(DF$MasHoras)] <- NA

DF$ViernesMaH[grep("Viernes", DF$MasHoras)] <- "Sí"
DF$ViernesMaH[is.na(DF$ViernesMaH)] <- "No"
DF$ViernesMaH[is.na(DF$MasHoras)] <- NA

DF$SabadoMaH[grep("Sábado", DF$MasHoras)] <- "Sí"
DF$SabadoMaH[is.na(DF$SabadoMaH)] <- "No"
DF$SabadoMaH[is.na(DF$MasHoras)] <- NA
```

**Días con clases espaciadas**

```{r}

DF$LunesEs <- NA
DF$MartesEs <- NA
DF$MiercolesEs <- NA
DF$JuevesEs <- NA
DF$ViernesEs <- NA
DF$SabadoEs <- NA

DF$LunesEs[grep("Lunes", DF$Espaciadas)] <- "Sí"
DF$LunesEs[is.na(DF$LunesEs)] <- "No"
DF$LunesEs[is.na(DF$Espaciadas)] <- NA

DF$MartesEs[grep("Martes", DF$Espaciadas)] <- "Sí"
DF$MartesEs[is.na(DF$MartesEs)] <- "No"
DF$MartesEs[is.na(DF$Espaciadas)] <- NA

DF$MiercolesEs[grep("Miércoles", DF$Espaciadas)] <- "Sí"
DF$MiercolesEs[is.na(DF$MiercolesEs)] <- "No"
DF$MiercolesEs[is.na(DF$Espaciadas)] <- NA

DF$JuevesEs[grep("Jueves", DF$Espaciadas)] <- "Sí"
DF$JuevesEs[is.na(DF$JuevesEs)] <- "No"
DF$JuevesEs[is.na(DF$Espaciadas)] <- NA

DF$ViernesEs[grep("Viernes", DF$Espaciadas)] <- "Sí"
DF$ViernesEs[is.na(DF$ViernesEs)] <- "No"
DF$ViernesEs[is.na(DF$Espaciadas)] <- NA

DF$SabadoEs[grep("Sábado", DF$Espaciadas)] <- "Sí"
DF$SabadoEs[is.na(DF$SabadoEs)] <- "No"
DF$SabadoEs[is.na(DF$Espaciadas)] <- NA
```



## Análisis Descriptivo

La variable `Tiempo` tiene como promedio,
```{r, echo = F}
mean(DF$Tiempo)
```
como mediana, 
```{r, echo = F}
median(DF$Tiempo)     
```
como moda,
```{r, echo = F}
mfv(DF$Tiempo)
```
como cuartiles,
```{r, echo = F}
quantile(DF$Tiempo, prob = c(0.25, 0.5, 0.75), na.rm = TRUE)
```
rango intercuartil,
```{r, echo = F}
quantile(DF$Tiempo, 0.75, type = 3) - quantile(DF$Tiempo, 0.25, type = 3)
```
rango,  
```{r, echo = F}
range(DF$Tiempo, na.r = T)
```
varianza,
```{r, echo = F}
var(DF$Tiempo, na.rm = T)
```
desviación estándar, 
```{r, echo = F}
sd(DF$Tiempo, na.rm = T)
```
coeficiente de variación,
```{r, echo = F}
sd(DF$Tiempo, na.rm = T) / mean(DF$Tiempo, na.rm = T)
```
y esto podemos representarlo mediante un *histograma* y un *boxplot*.

```{r, echo = F}
hist(DF$Tiempo,col = "lightblue",main = "Histograma de tiempo de viaje",xlab ="Tiempo de viaje (Minutos)",ylab = "Frecuencia relativa", probability = TRUE)
abline(v=mean(DF$Tiempo),col="blue",lwd=3)
abline(v=median(DF$Tiempo),col="red",lwd=3)
legend("topright", legend = c("Promedio", "Mediana"), col = c("blue", "red"), lty = 1, lwd = 2)
```

Ya conocemos el valor del promedio y de la mediana, también por la
gráfica sabemos que el promedio es mayor que su mediana. A partir de su
distribución sabemos que la variable está sesgada a la derecha. 

```{r, echo = F}
boxplot(DF$Tiempo, col="lightblue",main= "Boxplot de Tiempo Viaje", xlab = "Tiempo de viaje (Minutos)", horizontal=TRUE )
```

Asimismo, podemos observar que el primer cuartil se encuentra en los 40 minutos, y el tercer cuartil en los 130 minutos, resultando en un rango intercuartil de 90 minutos, indicando que la mayoría de datos se encuentran entre este rango. Específicamente tenemos una mediana de 90 y su moda de 20, podemos ver que la media de datos de tiempo se encuentra en los 98.96 minutos; y los datos van hasta los 360 minutos, aproximadamente 73.29 desviación estándar y presenta una dispersión del 74.06%; según el valor obtenido en el coeficiente de variación; lo cual nos demuestra que los datos se encuentran dispersos.

Continuaremos con la variable `Costo_v`, su promedio sería

```{r, echo = F}
mean(DF$Costo_v)
```
como mediana, 
```{r, echo = F}
median(DF$Costo_v)          
```
como moda,
```{r, echo = F}
mfv(DF$Costo_v)
```
como cuartiles,
```{r, echo = F}
quantile(DF$Costo_v, prob = c(0.25, 0.5, 0.75), na.rm = TRUE)
```
rango intercuartil,
```{r, echo = F}
quantile(DF$Costo_v, 0.75, type = 3) - quantile(DF$Costo_v, 0.25, type = 3)
```
rango,  
```{r, echo = F}
range(DF$Costo_v, na.r = T)
```
varianza,
```{r, echo = F}
var(DF$Costo_v, na.rm = T)
```
desviación estándar, 
```{r, echo = F}
sd(DF$Costo_v, na.rm = T)
```
coeficiente de variación,
```{r, echo = F}
sd(DF$Costo_v, na.rm = T) / mean(DF$Costo_v, na.rm = T)
```

Procederemos a graficar un *histograma* y un *boxplot*

```{r, echo = F}
hist(DF$Costo_v,col = "lightblue",main = "Histograma de costo de viaje",xlab ="Costo de viaje por día (Soles)",ylab = "Frecuencia relativa", probability = TRUE)
abline(v=mean(DF$Costo_v),col="blue",lwd=3)
abline(v=median(DF$Costo_v),col="red",lwd=3)
legend("topright", legend = c("Promedio", "Mediana"), col = c("blue", "red"), lty = 1, lwd = 2)
```

Al igual que la variable `Tiempo`, se ve la misma relación, dando por hecho que la distribución del diagrama está ligeramente sesgada a la derecha.



```{r, echo = F}
boxplot(DF$Costo_v, col="lightblue", main = "Boxplot de Costo de Viaje",  xlab = "Costo de viaje por día (Soles)", horizontal=TRUE)
```


Asimismo, podemos observar que el primer cuartil se encuentra en los 4 soles, y el tercer cuartil en los 8 soles, resultando en un rango intercuartil de 4 soles, indicando que la mayoría de datos se encuentran entre este rango. Específicamente tenemos una mediana de 6 soles y una moda de 10 soles, podemos ver que la media de datos de costo de viaje se encuentra en los 5.83 soles, un valor bastante similar a la mediana; y los datos van hasta los 15 soles, aproximadamente 3.51 desviación estándar y presenta una dispersión del 60.23%, según el valor obtenido en el coeficiente de variación; lo cual nos demuestra que los datos se encuentran no tan dispersos.

Pasaríamos a ver el promedio de la variable `Costo_a`

```{r, echo = F}
mean(DF$Costo_a)
```
como mediana, 
```{r, echo = F}
median(DF$Costo_a)          
```
como moda,
```{r, echo = F}
mfv(DF$Costo_a)
```
como cuartiles,
```{r, echo = F}
quantile(DF$Costo_a, prob = c(0.25, 0.5, 0.75), na.rm = TRUE)
```
rango intercuartil,
```{r, echo = F}
quantile(DF$Costo_a, 0.75, type = 3) - quantile(DF$Costo_a, 0.25, type = 3)
```
rango,  
```{r, echo = F}
range(DF$Costo_a, na.r = T)
```
varianza,
```{r, echo = F}
var(DF$Costo_a, na.rm = T)
```
desviación estándar, 
```{r, echo = F}
sd(DF$Costo_a, na.rm = T)
```
coeficiente de variación,
```{r, echo = F}
sd(DF$Costo_a, na.rm = T) / mean(DF$Costo_a, na.rm = T)
```


Para poder ver como es su distribución procedemos a graficar un
*histograma*

```{r, echo = F}
hist(DF$Costo_a,col = "lightblue",main = "Histograma de costo de alimentos",xlab ="Costo de alimentos por día (Soles)",ylab = "Frecuencia", probability = TRUE)
abline(v=mean(DF$Costo_a),col="blue",lwd=3)
abline(v=median(DF$Costo_a),col="red",lwd=3)
legend("topright", legend = c("Promedio", "Mediana"), col = c("blue", "red"), lty = 1, lwd = 2)
```

Se vuelve a visualizar los mismo que en las variables anteriores, el
promedio es mayor que la mediana, por ende, la distribución es sesgada
hacia la derecha.

Procedemos a graficar un *boxplot*

```{r, echo = F}
boxplot(DF$Costo_a, col="lightblue",main="Boxplot de Costo de alimentos" , xlab = "Costo de alimentos por día (Soles)", horizontal=TRUE)
```

Asimismo, podemos observar que el primer cuartil se encuentra en los 12 soles, y el tercer cuartil en los 20 soles, resultando en un rango intercuartil de 8 soles, indicando que la mayoría de datos se encuentran entre este rango. Específicamente tenemos una mediana de 15 soles y una moda de 20 soles, podemos ver que la media de datos de costo de alimentos se encuentra en los 15.72 soles, un valor bastante similar a la mediana; y los datos van hasta los 30 soles, aproximadamente 6.27 desviación estándar y presenta una dispersión del 39.87%, según el valor obtenido en el coeficiente de variación; lo cual nos demuestra que los datos se encuentran con una baja dispersión.

En la variable `NoAsistencia` el promedio es

```{r, echo = F}
mean(DF$NoAsistencia)
```
como mediana, 
```{r, echo = F}
median(DF$NoAsistencia)          
```
como moda,
```{r, echo = F}
mfv(DF$NoAsistencia)
```
como cuartiles,
```{r, echo = F}
quantile(DF$NoAsistencia, prob = c(0.25, 0.5, 0.75), na.rm = TRUE)
```
rango intercuartil,
```{r, echo = F}
quantile(DF$NoAsistencia, 0.75, type = 3) - quantile(DF$NoAsistencia, 0.25, type = 3)
```
rango,  
```{r, echo = F}
range(DF$NoAsistencia, na.r = T)
```
varianza,
```{r, echo = F}
var(DF$NoAsistencia, na.rm = T)
```
desviación estándar, 
```{r, echo = F}
sd(DF$NoAsistencia, na.rm = T)
```
coeficiente de variación,
```{r, echo = F}
sd(DF$NoAsistencia, na.rm = T) / mean(DF$NoAsistencia, na.rm = T)
```


Mediante el uso del *histograma*

```{r, echo = F}
hist(DF$NoAsistencia,col = "lightblue",main = "Histograma de inasistencia",xlab ="Cantidad de inasistencias (días)",ylab = "Frecuencia", probability = TRUE)
abline(v=mean(DF$NoAsistencia),col="blue",lwd=3)
abline(v=median(DF$NoAsistencia),col="red",lwd=3)
legend("topright", legend = c("Promedio", "Mediana"), col = c("blue", "red"), lty = 1, lwd = 2)
```

Se obtiene que a partir de la distribución se entiende que tiene sesgo
hacia la derecha. En este caso sucede lo mismo que con las variables
mencionadas con anterioridad.

Graficamos también un  *boxplot*

```{r, echo = F}
boxplot(DF$NoAsistencia, col="lightblue", main="Boxplot de Inasistencia"  , xlab = "Costo de inasistencias (días)", horizontal=TRUE)
```

Asimismo, podemos observar que el primer cuartil se encuentra en los 2 días sobre la cantidad de inasistencias, y el tercer cuartil en los 7 días, resultando en un rango intercuartil de 5 días, indicando que la mayoría de datos se encuentran entre este rango. Específicamente tenemos una mediana de 4 días y una moda de 2 días, podemos ver que la media de datos de inasistencia se encuentra en los 4.81 sobre la cantidad de inasistencias, un valor bastante similar a la mediana; y los datos van hasta los 12 días, aproximadamente 3.13 desviación estándar y presenta una dispersión del 65.09%, según el valor obtenido en el coeficiente de variación; lo cual nos demuestra que los datos se encuentran no tan dispersos.


A continuación, se presenta una gráfica de barras que muestra las faltas de la semana 1 ordenados por día. Podemos observar que el día con más faltas es la semana 1 es el `Lunes` y el día con menos faltas es `Sábado`

**Faltas Semana 1**

```{r, echo = FALSE}
DF %>% dplyr::select(LunesFaltS1)%>% filter(LunesFaltS1=="Sí") -> graf_Lunes_Sem1
DF %>% dplyr::select(MartesFaltS1)%>% filter(MartesFaltS1=="Sí") -> graf_Martes_Sem1
DF %>% dplyr::select(MiercolesFaltS1)%>% filter(MiercolesFaltS1=="Sí") -> graf_Miercoles_Sem1
DF %>% dplyr::select(JuevesFaltS1)%>% filter(JuevesFaltS1=="Sí") -> graf_Jueves_Sem1
DF %>% dplyr::select(ViernesFaltS1)%>% filter(ViernesFaltS1=="Sí") -> graf_Viernes_Sem1
DF %>% dplyr::select(SabadoFaltS1)%>% filter(SabadoFaltS1=="Sí") -> graf_Sabado_Sem1




Faltas_Sem1<-c("Lunes", "Martes")
for (i in 1:nrow(graf_Lunes_Sem1)){
  Faltas_Sem1[[length(Faltas_Sem1) + 1]]<-"Lunes"}
for (i in 1:nrow(graf_Martes_Sem1)){
  Faltas_Sem1[[length(Faltas_Sem1) + 1]]<-"Martes"}
for (i in 1:nrow(graf_Miercoles_Sem1)){
  Faltas_Sem1[[length(Faltas_Sem1) + 1]]<-"Miércoles"}
for (i in 1:nrow(graf_Jueves_Sem1)){
  Faltas_Sem1[[length(Faltas_Sem1) + 1]]<-"Jueves"}
for (i in 1:nrow(graf_Viernes_Sem1)){
  Faltas_Sem1[[length(Faltas_Sem1) + 1]]<-"Viernes"}
for (i in 1:nrow(graf_Sabado_Sem1)){
  Faltas_Sem1[[length(Faltas_Sem1) + 1]]<-"Sábado"}
Faltas_Sem1<-Faltas_Sem1[-c(1,2)]

Faltas_Sem1_levels<-factor(Faltas_Sem1, levels = c("Lunes", "Martes", "Miércoles",
                                                   "Jueves", "Viernes", "Sábado"))
```

```{r}
tabla_S1<-table(Faltas_Sem1_levels)/sum(table(Faltas_Sem1_levels))
barplot(tabla_S1, col = "lightblue", main =  "Inasistencias a clases presencial - Semana 1",xlab = "Días de la semana 1", ylab = "Frecuencia relativa")
```

El día con más inasistencias, para la semana 1, es el lunes, seguido del miércoles. Se puede observar que las inasistencias a clases presenciales se reducen con el pasar de los días, a excepción del miércoles, en el cual hay un pequeño aumento. Suponemos que esto podría ser causado la distribución de horarios de los cursos.

**Faltas semana 2**

```{r, echo=FALSE}
DF %>% dplyr::select(LunesFaltS2)%>% filter(LunesFaltS2=="Sí") -> graf_Lunes_Sem2
DF %>% dplyr::select(MartesFaltS2)%>% filter(MartesFaltS2=="Sí") -> graf_Martes_Sem2
DF %>% dplyr::select(MiercolesFaltS2)%>% filter(MiercolesFaltS2=="Sí") -> graf_Miercoles_Sem2
DF %>% dplyr::select(JuevesFaltS2)%>% filter(JuevesFaltS2=="Sí") -> graf_Jueves_Sem2
DF %>% dplyr::select(ViernesFaltS2)%>% filter(ViernesFaltS2=="Sí") -> graf_Viernes_Sem2
DF %>% dplyr::select(SabadoFaltS2)%>% filter(SabadoFaltS2=="Sí") -> graf_Sabado_Sem2


Falta_Sem_2<-c("Lunes", "Martes")
for (i in 1:nrow(graf_Lunes_Sem2)){
  Falta_Sem_2[[length(Falta_Sem_2) + 1]]<-"Lunes"}
for (i in 1:nrow(graf_Martes_Sem2)){
  Falta_Sem_2[[length(Falta_Sem_2) + 1]]<-"Martes"}
for (i in 1:nrow(graf_Miercoles_Sem2)){
  Falta_Sem_2[[length(Falta_Sem_2) + 1]]<-"Miércoles"}
for (i in 1:nrow(graf_Jueves_Sem2)){
  Falta_Sem_2[[length(Falta_Sem_2) + 1]]<-"Jueves"}
for (i in 1:nrow(graf_Viernes_Sem2)){
  Falta_Sem_2[[length(Falta_Sem_2) + 1]]<-"Viernes"}
for (i in 1:nrow(graf_Sabado_Sem2)){
  Falta_Sem_2[[length(Falta_Sem_2) + 1]]<-"Sábado"}
Falta_Sem_2<-Falta_Sem_2[-c(1,2)]

Faltas_Sem2_levels<-factor(Falta_Sem_2, levels = c("Lunes", "Martes", "Miércoles",
                                                   "Jueves", "Viernes", "Sábado"))
```

```{r}
tabla_S2<-table(Faltas_Sem2_levels)/sum(table(Faltas_Sem2_levels))
barplot(tabla_S2,col = "lightblue", main =  "Inasistencias a clases presencial - Semana 2",xlab = "Días de la semana 2", ylab = "Frecuencia relativa")
```

La semana 2 tiene el mismo patrón de inasistencias a clases presenciales que la semana 1. Pese a que se ven similares, durante la semana 1 se faltó más que la semana 2. Las faltas de la semana 1 fueron:
```{r, echo = F}
length(Faltas_Sem1)
```

Mientras que las faltas de la semana 2 fueron:

```{r, echo = F}
length(Falta_Sem_2)
```

### Descriptores gráficos bivariados


```{r}
boxplot((DF$NoAsistencia) ~ DF$Zona, varwidth=TRUE, main="Inasistencia según zona", ylab="Inansistencias (días)", xlab = "Zona de residencia", col=c("lightblue"))
```

La zona con un menor rango intercuartil es Central Sur. Además, por el ancho del boxplot, sabemos que tiene una más estudiantes respecto a las otras zonas de residencia, esto podría deberse a que es la zona donde se encuentra la universidad. Otra observación interesante es que Central Sur cuenta con 2 datos atípicos. Ambos datos tienen 10 y 11 faltas, una cantidad muy elevada considerando que Central Sur es la zona donde se ubica la universidad. Por otro lado, Central, la segunda zona más cercana a la universidad, cuenta con más estudiantes que Sur pero menos que Este Y Norte. Ser segunda zona más cercana a la UTEC explicaría que el rango de la variable sea menor en comparación con las zonas Este y Norte.
Este y Norte son muy similares, la única diferencia visible es que ningún estudiante de zona Este ha conseguido asistir todos los días, al igual que los estudiantes de zona Sur.


**Costo de viaje y Inasistencias**

```{r}
boxplot(DF$Costo_v~DF$NoAsistencia,main="Costo vs. Inasistencia", xlab = "Cant. de inasistencias (días)", ylab = "Costo total de viaje (soles)", col=c("lightblue"),varwidth=TRUE)
```

```{r, echo=FALSE}
cor(DF$NoAsistencia,DF$Costo_v)
```

En un inicio creíamos que un mayor número de inasistencias implicaría un mayor costo en viajes. Esta suposición es descartada por el cálculo de la correlación lineal entre ambas variables, la cual fue de 0.23. Hay una correlación casi nula. Además, a partir de los anchos de los diagramas de caja podemos saber que la moda es de 2 inasistencias. Por otro lado, el diagrama de caja de 11 inasistencias se aprecia únicamente como una línea, esto podría ser causado por la concentración de los datos. Dos datos atípicos interesantes son los que se encuentran en cantidad de inasistencias 11 y 12. Ambos indican que tienen costos de viaje bajos, pero cuentan con una gran cantidad de faltas. Algo parecido pasa con el dato atípico inferior presente en 7 inasistencias. Lo contrario pasa con el dato atípico superior presente en 7 inasistencias, el cual cuenta con un costo de viaje muy alto.


**Inasistencia según Grupos Híbridos**

```{r}
myPal <- c(0:13)

par ( mar = c (5, 4, 4, 8), xpd = TRUE)
mosaicplot(prop.table(t(table(DF$NoAsistencia, DF$Grupos_Hibridos)),margin=2), col=c(0:13)
, main = "Inasistencias según Grupos híbridos", ylab = "Cantidad de Inasistencias (días)",xlab = "Grupos Híbridos")
legend(x="topright",inset = c(-0.30,0), legend=c("0","1","2","3","4","5","6","7","8","9","10","11","12"), col=myPal, fill=myPal, horiz = FALSE, title = "Inasistencias(días)") 

```

A partir del mosaico podemos saber que el grupo híbrido 2 tiene más estudiantes que el grupo híbrido 1. Dentro del grupo 1 la moda de inasistencias a clases presenciales durante las dos semanas fue de 2, mientras que en el grupo 2 la moda fue de 11. Por otro lado, en el grupo 1 hay muy pocos estudiantes que hayan faltado 11 días a clases presenciales durante las 2 semanas, mientras que en el grupo 2 hay muy pocas personas que hayan faltado 2 días a clases presenciales durante las 2 semanas.


**Inasistencia según escala**

```{r}
myPal <- c(
  rgb(0, 0, 0, maxColorValue = 255),  
  rgb(110, 110, 110, maxColorValue = 255),  
  rgb(80, 80, 150, maxColorValue = 255),  
  rgb(18, 18, 138, maxColorValue = 255),
  rgb(0,0,255, maxColorValue = 255))

par ( mar = c (5, 4, 4, 8), xpd = TRUE)
mosaicplot(DF$NoAsistencia~DF$Escala, col=myPal, main = "Inasistencias según escala", xlab = "Cantidad de Inasistencias (días)",ylab = "Escala")
legend(x="topright",inset = c(-0.15,0), legend=c("A","B","C","D","E"), col=myPal, fill=myPal, horiz = FALSE, title = "Escala") 
```

A partir de la gráfica, sabemos que la escala con menos faltas es la
escala A, esto debido a su poca cantidad con respecto a las demás
escalas. La escala D y E son las que más suelen faltar, debido a que son las más pobladas, al contrario de A. La cantidad de faltas a clases presenciales durante ambas semanas es 2.



**Inasistencia y ciclo**

```{r}
boxplot(DF$NoAsistencia~DF$Ciclo,main="Inasistencia vs. Ciclo", xlab ="Ciclo" , ylab = "Cantidad de Inasistencias (días)", col=c("lightblue"),varwidth=TRUE)
```

El primer ciclo posee un rango bajo, un valor mínimo de 1 y máximo de
6 (dato atípico), el bajo número de inasistencias puede ser resultado de
que son nuevos en la universidad, a diferencia de los otros ciclos, los
cuales son más experimentados y podrían decidir que cursos y días faltar. Ciclos
como el quinto y octavo tienen baja cantidad de inasistencias, lo que
podría deberse tal vez a los cursos de carrera y electivos.

**Inasistencia y Tiempo de viaje**

```{r}
boxplot(DF$Tiempo~DF$NoAsistencia,main="Tiempo de viaje vs Inasistencia", xlab = "Cantidad de Inasistencias (días)", ylab = "Tiempo de viaje (minutos)", col=c("lightblue"),varwidth=TRUE)
```

Al aumentar el tiempo de viaje tiende aparentemente a aumentar la
inasistencia.El aumento no es tan marcado, pero se da muestra en el
aumento de los valores mínimos y máximos de tiempo de entre 8 a 12
inasistencias. Al calcular la correlación obtuvimos 
```{r, echo = FALSE}
cor(DF$NoAsistencia,DF$Tiempo)
```
lo que confirma que la correlación lineal entre ambas variables es tan fuerte.


A continuación, decidimos estudiar los patrones de inasistencias durante la semana 1 para los estudiantes que viven en la zona más alejada a UTEC, la zona Norte.

**Faltas de Lunes semana 1 vs más horas para estudiantes de zona Norte**

```{r}
mosaicplot(table(DF$LunesFaltS1[DF$Zona=="Norte"], DF$LunesMaH[DF$Zona=="Norte"]), main = "Falta el Lunes de semana 1 vs Más horas de clase los días Lunes
           Zona Norte", xlab = "Falta el Lunes de semana 1",ylab = "Más horas de clase los días Lunes",  col = c("Lightblue", "lightgreen"))
```

A partir de la gráfica sabemos que hay más inasistencias que asistencia clases presenciales el día lunes de la primera semana. Más de la mitad de los que faltan el lunes de la primera semana tienen más horas de clase el día Lunes. Además, menos de la tercera parte de estudiantes que no faltaron el lunes de la semana 1 no tienen más horas de clase. Esto va contra la suposición que teníamos de que tener más horas de clase y vivir lejos de la universidad haría que hubieran más faltas.


**Faltas de Lunes semana 1 vs menos horas**

```{r}
mosaicplot(table(DF$LunesFaltS1[DF$Zona=="Norte"], DF$LunesMeH[DF$Zona=="Norte"]), main = "Falta el Lunes de semana 1 vs Menos horas de clase los días Lunes
           Zona Norte", xlab = "Falta el Lunes de semana 1",ylab = "Menos horas de clase los días Lunes",  col = c("Lightblue", "lightgreen"))
```

De los alumnos pertenecientes a zona Norte que faltaron a clases presenciales el día lunes de la semana 1, la gran mayoría de ellos no tenía menos horas de clase. Por otro lado, una gran mayoría de los que sí asistieron a clase no tienen menos horas de clase. Las faltas podrían ser causadas por otros factores.


**Faltas de Lunes semana 1 vs horas espaciadas**

```{r}
mosaicplot(table(DF$LunesFaltS1[DF$Zona=="Norte"], DF$LunesEs[DF$Zona=="Norte"]), main = "Falta el Lunes de semana 1 vs Clases espaciadas los días Lunes 
           Zona Norte", xlab = "Falta el Lunes de semana 1",ylab = "Clases espaciadas los días Lunes", col = c("Lightblue", "lightgreen"))
```

De los alumnos pertenecientes a zona Norte que faltaron a clases presenciales el día lunes de la semana 1, más de la mitad no tuvo clases espaciadas. Mientras que la gran mayoría de ellos de los que sí asistieron tampoco tuvieron clases espaciadas. Las faltas podrían ser causadas por otros factores.



**Faltas de Lunes semana 1 vs clases temprano**
```{r}
mosaicplot(table(DF$LunesFaltS1[DF$Zona=="Norte"], DF$LunesClasTemp[DF$Zona=="Norte"]), main = "Falta el Lunes de semana 1 vs Clases temprano los días Lunes
           Zona Norte", xlab = "Falta el Lunes de semana 1",ylab = "Clases temprano los días Lunes",  col =c("Lightblue", "lightgreen"))
```

Teníamos como suposición que vivir lejos de la universidad y tener clases temprano tendría como consecuencia una mayor cantidad de faltas, lo que descartamos debido a que más de la mitad de los estudiantes que faltaron el lunes de la semana 1 no tenían clases temprano. Por otro lado, la gran mayoría de los que sí asistieron sí tenían clase temprano, esto tal vez sea causado por la modalidad de los cursos.

**Faltas de Lunes semana 1 vs clases tarde**
```{r}
mosaicplot(table(DF$LunesFaltS1[DF$Zona=="Norte"], DF$LunesClasTard[DF$Zona=="Norte"]), main = "Falta el Lunes de semana 1 vs Clases tarde los días Lunes\nZonaNorte", xlab = "Falta el Lunes de semana 1",ylab = "Clases tarde los días Lunes", col = c("Lightblue", "lightgreen"))
```

A partir de la gráfica podemos saber que la gran mayoría de estudiantes que no asisten a clase los días lunes no tienen clases tarde. Por otro lado, la gran mayoría de estudiantes que sí asistieron el lunes tampoco tienen clases tarde. Esto indicaría que tener clases tardes no es un factor con muy alta repercusión en la decisión de los estudiantes a faltar.
 
## Análisis Probabilístico


Los eventos que intervienen en el cálculo de probabilidad son:

Z : Zonas de residencia

N : No asistió a una clase presencial

C : Ciclo del estudiante

Mis1 : Miércoles de la semana 1

Si se eligen un estudiante al azar, ¿Cuál es la probabilidad de que viva en zona este?

$$P(ZE)=41/205$$
```{r}
ZE = DF %>% dplyr::select(Zona) %>% dplyr::filter(Zona=="Este") %>% nrow()
PZE= ZE/nrow(DF)
PZE
```

- Si se eligen un estudiante al azar, ¿Cuál es la probabilidad de que NO viva en zona este?

$$P({ZE}')= 1-P(ZE)=163/200$$

```{r}
1-PZE
```

Las probabilidades para las demás zonas son:

- Centro:

$$P(ZC)=31/205$$
```{r}
ZC = DF %>% dplyr::select(Zona) %>% dplyr::filter(Zona=="Central") %>% nrow()
PZC= ZC/nrow(DF)
PZC
```

- Centro Sur:
$$P(ZCS)=69/205$$
```{r}
ZCS = DF %>% dplyr::select(Zona) %>% dplyr::filter(Zona=="Central Sur") %>% nrow()
PZCS= ZCS/nrow(DF)
PZCS
```

- Sur:
$$P(ZS)=19/205$$
```{r}
ZS = DF %>% dplyr::select(Zona) %>% dplyr::filter(Zona=="Sur") %>% nrow()
PZS= ZS/nrow(DF)
PZS
```

- Norte:
$$P(ZN)=45/205$$
```{r}
ZN = DF %>% dplyr::select(Zona) %>% dplyr::filter(Zona=="Norte") %>% nrow()
PZN= ZN/nrow(DF)
PZN
```

- Si se eligen un estudiante al azar, ¿Cuál es la probabilidad de que esté en 2to ciclo y tenga 5 o 6 inasistencias a clases presenciales?
$$P(C2 \cap(N5 \cup N6)) = 16/205$$
```{r}
IN56 = DF %>% dplyr::select(Ciclo, NoAsistencia) %>% dplyr::filter((NoAsistencia ==5 |NoAsistencia ==6) & Ciclo==2) %>% nrow()
PIN56 = IN56/nrow(DF)
PIN56
```
Si se elige un estudiante al azar, ¿Cuál es la probabilidad de que este haya faltado el día Miércoles de la semana 1 dado que vive en zona Central?
$$P(Mis1 | ZC)=\frac{P(Mis1\cap ZC)}{P(ZC)}$$
```{r}
Mier_S1= DF%>% dplyr::select(MiercolesFaltS1, Zona) %>% dplyr::filter(MiercolesFaltS1 == "Sí" & Zona=="Central") %>% nrow()
PMier_S1=Mier_S1/nrow(DF)
Cent = DF%>% dplyr::select(Zona) %>% dplyr::filter(Zona=="Central") %>% nrow()
Pcent=(Cent/nrow(DF))
Pcondicional = PMier_S1/Pcent
Pcondicional
```



## Variables Aleatorias

### Primer modelo: análisis de tiempo vs zona

```{r}
descdist(DF$Tiempo[DF$Zona=="Central"], discrete = FALSE)
sd(DF$Tiempo[DF$Zona=="Central"])
quantile(DF$Tiempo[DF$Zona=="Central"])
mfv(DF$Tiempo[DF$Zona=="Central"])
fitdistr( DF$Tiempo[DF$Zona=="Central"], densfun = "gamma")
sh = 6.68249182
R= 0.07160636
prom = mean(DF$Tiempo[DF$Zona=="Central"])
SD = sd(DF$Tiempo[DF$Zona=="Central"])
Moda = mfv(DF$Tiempo[DF$Zona=="Central"])
Mediana = median(DF$Tiempo[DF$Zona=="Central"])
Xs <- seq(min(DF$Tiempo[DF$Zona=="Central"]), max(DF$Tiempo[DF$Zona=="Central"]),0.1)
#Normal
Ys <- dnorm(Xs, mean = prom, sd= SD)
#Gamma
Zs <- dgamma(Xs, shape=sh, rate= R)
hist(DF$Tiempo[DF$Zona=="Central"],breaks = 10, prob=TRUE, ylab="Densidad", main="Comparación de aproximación a histograma\nde Tiempo de viaje - Zona central", col="cyan", ylim = c(0,0.02), xlab = "Tiempo de viaje - Zona central (Minutos)")
lines(Xs, Ys, type="l", col="red", lwd=2)
lines(Xs, Zs, type="l", col="blue", lwd=2)
legend(x = "topright",        
       legend = c("Normal", "Gamma"),
       lty = 1,       
       col = c("red", "blue"),
       cex = 0.9,
       lwd = 2)  
 
```

Se estimó una distribución normal para el tiempo de viaje de los estudiantes que residen en zona Central. Se utilizo la media(μ) y la desviación estándar para generar esta distribución. Según la gráfica, el modelo no llega a cubrir algunas áreas del histograma. Además, el histograma presenta intervalos con menos frecuencia, como de 60 a 80 y 120 a 140. Para que nuestro histograma asemeje a una distribución normal debe tener media, mediana y moda iguales. A continuación indicamos sus valores:

```{r}
Moda
Mediana
prom
```

Si bien es cierto que los valores de la mediana y el promedio son cercanos (con una diferencia de 3.32 aproximadamente), la moda resulta muy distante a estos valores (con una diferencia de 30 con respecto a la moda y mediana). Por otro lado, la distribución gamma es parecida a la normal, pero suele tener una mayor pendiente por la izquierda y descender antes que la normal por la izquierda. La distribución gamma cumple que  su media es igual al parámetro de forma sobre el inverso de la escala (ratio). Calculando esto obtendríamos:

```{r}
Media = sh/R
Media
```

La media es similar, a continuación daremos un vistazo a la moda:

```{r}
Moda = (sh-1)/R
Moda
```

La diferencia entre las moda de la variable y del histograma es de 40 aproximadamente, esto explicaría que la distribución no encaje. Si hubiera más datos dentro del intervalo [60,80] y menos en el intervalo [40,60], se acercaría a ambas distribuciones. Ambas distribuciones no representan al 100% a la variable.






### Segundo modelo : análisis de costo de viaje vs zona

```{r}
descdist(DF$Costo_v[DF$Zona=="Central"], discrete = FALSE)
Xs <- seq(min(DF$Costo_v[DF$Zona=="Central"])-0.5, max(DF$Costo_v[DF$Zona=="Central"]),0.1)
prom = mean(DF$Costo_v[DF$Zona=="Central"])
Mediana = median(DF$Costo_v[DF$Zona=="Central"])
sd = sd(DF$Costo_v[DF$Zona=="Central"])
fitdistr( DF$Costo_v[DF$Zona=="Central"], densfun = "log-normal")
mean_log=1.68849130
sd_log=0.31011566
Ys<- dlnorm(Xs,meanlog=mean_log, sdlog=sd_log,)
fitdistr(DF$Costo_v[DF$Zona=="Central"], densfun = "gamma")
S = 10.5794551  
R = 1.8634273  
Gs <- dgamma(Xs, shape = S, rate = R)
hist(DF$Costo_v[DF$Zona=="Central"], prob=TRUE, ylab="Densidad", xlab = "Costo de viaje - Zona central (Soles por día)" , main="Comparación de aproximación a histograma\nde Costo de viaje - Zona central", col="cyan", ylim = c(0,0.4), xlim=c(1,13))
lines(Xs, Ys, type="l", col="red", lwd=2)
lines(Xs, Gs, type="l", col="blue", lwd=2)
legend(x = "topright",        
       legend = c("Lognormal", "Gamma"),
       lty = 1,       
       col = c("red", "Blue"),
       cex = 0.9,
       lwd = 2) 
Media = mean(DF$Costo_v[DF$Zona=="Central"])
Media_Lnorm = exp(mean_log + (sd_log^2)/2)
Media_G = S/R

Moda = mfv(DF$Costo_v[DF$Zona=="Central"])
Moda_Lnorm = exp(mean_log)
Moda_G = (S-1)/R

SD = sd((DF$Costo_v[DF$Zona=="Central"]))
SD_Lnorm = exp(sd_log)
SD_G = sqrt(S)/R
```
Se estimaron dos distribuciones a partir del gráfico de Cullen y Frey, una distribución gamma y una distribución lognormal. Con respcto al histograma ambas distribuciones cubren casi las mismas áreas, lognormal es abarca menos áreas vacías en comparación a gamma. La media de la muestra es de
```{r}
Media
Media_Lnorm
Media_G
```

```{r}
Moda
Moda_Lnorm
Moda_G
```

Las medias la variable y de los modelos propuestos son parecidas, lo que explica que en el intervalo de 4 a 6 soles encajen mejor que en otras partes de la gráfica. Por otro lado, la moda sí varia entre los modelos y la variable, pero no de formas muy exagerada. Con el cálculo de la desviación estándar confirmamos que los modelos y la variable no varían demasiado.
```{r}
SD
SD_Lnorm
SD_G 
```
Un modelo aceptable para la variable aleatoria sería la distribución Lognormal.








### Tercer modelo : análisis de cantidad de inasistencias

```{r}
descdist(DF$NoAsistencia, discrete = TRUE)
media<-mean(DF$NoAsistencia)
mediana = median(DF$NoAsistencia)
moda=mfv(DF$NoAsistencia)
sd<-sd(DF$NoAsistencia)


x <-seq(min(DF$NoAsistencia), max(DF$NoAsistencia), by = 1)
y <-dpois(x,media)
z <-dnorm(x,media,sd)


hist(DF$NoAsistencia, probability = TRUE, ylim=c(0,0.25), ylab="Densidad", main="Comparación de aproximación a histograma\nde cantidad de Inasistencia", xlab="Cantidad de Inasistencia (días)", col="lightblue")
lines(x,y,type="h", col="red", lwd=2)
lines(x,z,type="h", col="blue", lwd=2)
legend(x = "topright",        
       legend = c("Poisson", "Normal"),
       lty = 1,       
       col = c("red", "blue"),
       cex = 0.9,
       lwd = 2) 


```

Para la variable aleatoria discreta "Cantidades de Inasistencia" planteamos una distribución Poisson y otra normal. Al ver la gráfica ninguno de los dos modelos encaja de forma correcta en el histograma. Al calcular la mediana, media y moda, nos damos cuenta que la moda no es igual los demás valores, por lo que descartamos que la distribución normal sea una aproximación buena.
```{r}
media
mediana
moda
```
Para que la VAD cumpla con la distribución de Poisson debe tener una moda igual a ⌊λ⌋ (función piso) ⌈λ⌉-1 (función techo).
```{r}
ceiling(media)-1
```
La moda de la distribución Poisson, de valor 4, no coincide con la moda de nuestra variable aleatoria, por lo que consideramos que este modelo no es indicado. 

## Conclusiones

- Los días lunes son los días con más faltas de sus respectivas semanas. Al realizar el análisis del lunes de la semana 1 con respecto a las clases que tenían ese día los estudiantes que residen en zona Norte, descubrimos la disposición del horario tal vez no sería lo único tan influyente como para decidir asistir o no a clases presenciales. Podría haber factores como la experiencia del alumno con las clases virtuales o de la calidad de herramientas que posee el estudiante para conectarse a clase. Otro factor podría ser la importancia del curso para el alumno.

- Hay una relación muy baja entre las inasistencias y el costo de viaje de los estudiantes, contrario a lo que creíamos. Esto también podría ser causado por un mal planteamiento de la variable costos de viaje, ya que no se consideró agregar una variable de medios de transporte con el cual poder segmentar estos costos y evitar datos que pueden afectar el estudio.