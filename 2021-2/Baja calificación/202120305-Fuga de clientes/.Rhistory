DF <- read.csv("churn_mod.csv")
mean(DF)
View(DF)
mean(DF$M_llamadas)
sum(is.na(DF)
sum(is.na(DF))
sum(complete.cases(DF$residencia))
n <- length(DF$M_llamadas)
media <- mean(DF$M_llamadas)
z <- 1.96
n <- length(DF$M_llamadas)
s_d <- sd(DF$M_llamadas)/sqrt(n)
e <- sd(DF$M_llamadas)/sqrt(n)
L_inf <- media - (z*e)
L_sup <- media + (z*e)
plot(DF$M_llamadas)
hist(DF$M_llamadas)
hist(DF$M_llamadas, line(x,y=NULL))
hist(DF$M_llamadas)
hist(DF$M_llamadas, lines(DF$M_llamadas, 0:600))
hist(DF$M_llamadas, main = "Llamadas en la mañana", # Frecuencia
ylab = "Frecuencia")
hist(DF$M_llamadas, main = "Llamadas en la mañana", lines(DF$M_llamadas,ylab = "Frecuencia")
hist(DF$M_llamadas, main = "Llamadas en la mañana", lines(DF$M_llamadas,ylab = "Frecuencia"))
hist(DF$M_llamadas, main = "Llamadas en la mañana", lines(DF$M_llamadas,"Frecuencia"))
hist(DF$M_llamadas, main = "Llamadas en la mañana", lines(DF$M_llamadas,))
hist(DF$M_llamadas, main = "Llamadas en la mañana", lines(DF$M_llamadas,DF$M_llamadas))
hist(DF$M_llamadas, prob = TRUE,
main = "Histograma con curva normal", ylab = "Densidad")
x <- seq(min(DF$M_llamadas), max(DF$M_llamadas), length = n)
f <- dnorm(x, mean = mean(DF$M_llamadas), sd = sd(DF$M_llamadas))
lines(x, f, col = "red", lwd = 2)
hist(DF$M_llamadas)
hist(DF$M_llamadas)
hist(DF$M_llamadas, prob = TRUE,
main = "Histograma con curva normal", ylab = "Densidad")
x <- seq(min(DF$M_llamadas), max(DF$M_llamadas), length = n)
f <- dnorm(x, mean = mean(DF$M_llamadas), sd = sd(DF$M_llamadas))
lines(x, f, col = "red", lwd = 2)
x <- seq(min(DF$M_llamadas), max(DF$M_llamadas), length = n)
f <- dnorm(x, mean = mean(DF$M_llamadas), sd = sd(DF$M_llamadas))
lines(x, f, col = "red", lwd = 2)
hist(DF$M_llamadas, prob = TRUE,
main = "Histograma con curva normal", ylab = "Densidad")
x <- seq(min(DF$M_llamadas), max(DF$M_llamadas), length = n)
f <- dnorm(x, mean = mean(DF$M_llamadas), sd = sd(DF$M_llamadas))
lines(x, f, col = "red", lwd = 2)
unique(DF$ubicacion)
filter(DF, permanencia = TRUE)
DF <- read.csv("churn_mod.csv")
filter(DF, permanencia == TRUE)
filter(DF$permanencia == TRUE)
lista.paquetes <- c("readr", "dplyr","corrplot","PerformanceAnalytics","psych","car")
nuevos.paquetes <- lista.paquetes[!(lista.paquetes %in% installed.packages()[,"Package"])]
if(length(nuevos.paquetes)) install.packages(nuevos.paquetes)
DF_salen <- filter(DF, DF$permanencia == "TRUE")
fuga <- filter(DF, DF$permanencia == TRUE)
sum(DF$permanencia ==T)
table(DF$permanencia ==T)
boxplot(DF$M_mins,
col="lightskyblue3",
main="Tiempo de llamadas por las mañanas",
ylab="Tiempo (m)",
varwidth = TRUE,
horizontal = TRUE
)
IQR(DF$M_mins)
median(DF$M_mins)
boxplot(  DF$M_mins
, DF$T_mins
, DF$N_mins
, main = "Boxplots de tiempo de llamadas en el mes"
, col = c("lightskyblue3", "sandybrown", "deepskyblue4")
, xlab = "Tiempo (m)"
, names = c("M", "T", "N")
, horizontal = TRUE
)
boxplot(  DF$M_llamadas
, DF$T_llamadas
, DF$N_llamadas
, main = "Boxplots de tiempo de llamadas en el mes"
, col = c("lightskyblue3", "sandybrown", "deepskyblue4")
, xlab = "Tiempo (m)"
, names = c("M", "T", "N")
, horizontal = TRUE
)
fuga <-DF$permanencia == TRUE
f <- filter(DF,DF$permanencia ==T)
boxplot(  DF$M_llamadas
, DF$T_llamadas
, DF$N_llamadas
, main = "Boxplots de tiempo de llamadas en el mes"
, col = c("lightskyblue3", "sandybrown", "deepskyblue4")
, xlab = "Tiempo (m)"
, names = c("M", "T", "N")
, horizontal = TRUE
)
boxplot(  DF$M_mins
, DF$T_mins
, DF$N_mins
, main = "Boxplots de tiempo de llamadas en el mes"
, col = c("lightskyblue3", "sandybrown", "deepskyblue4")
, xlab = "Tiempo (m)"
, names = c("M", "T", "N")
, horizontal = TRUE
)
DF[DF$permanencia==T]
DF[DF$permanencia==T,]
fu<-DF[DF$permanencia==T,]
View(fu)
DF_fuga<-DF[DF$permanencia==T,]
View(fu)
View(DF_fuga)
DF_quedan<-DF[DF$permanencia==T,]
DF_fuga<-DF[DF$permanencia==T,]
DF_quedan<-DF[DF$permanencia==F,]
boxplot(  DF_fuga$M_mins
, DF_quedan$M_mins
, main = "Boxplots de tiempo de llamadas en el mes"
, col = c("lightskyblue3", "sandybrown", "deepskyblue4")
, xlab = "Tiempo (m)"
, names = c("F", "Q")
, horizontal = TRUE
)
boxplot(DF_fuga$M_mins,
col="lightskyblue3",
main="Tiempo de llamadas por las mañanas",
ylab="Tiempo (m)",
varwidth = TRUE,
horizontal = TRUE
)
boxplot(  DF_fuga$M_mins
, DF_quedan$M_mins
, main = "Boxplots de tiempo de llamadas en el mes"
, col = c("lightskyblue3", "sandybrown", "deepskyblue4")
, xlab = "Tiempo (m)"
, names = c("F", "Q")
, horizontal = TRUE
)
table(DF$M_mins)
max(DF$M_mins)
min(DF$M_mins)
mean(DF$M_mins)
DF_salen <- filter(DF, DF$permanencia == "TRUE")
DF_quedan1 <- filter(DF, DF$permanencia == "FALSE")
colnames(DF)[1:24]<-c("residencia","ubicacion","tiempo_cliente","codigo","telefono","plan_inter","plan_grabadora","num_grabaciones","M_mins","M_llamadas","M_tarifa","T_mins","T_llamadas","T_tarifa","N_mins","N_llamadas","N_tarifa","I_mins","I_llamadas","I_tarifa","operador","permanencia","genero","edad")
View(DF)
DF_fuga<-DF[DF$permanencia==T,]
DF_quedan<-DF[DF$permanencia==F,]
View(DF_fuga)
View(DF_fuga)
DF$M_tarifa/DF$M_mins
mean(DF$M_tarifa/DF$M_mins)
mean(DF$M_tarifa/DF$M_mins, na.rm = T)
round(mean(DF$M_tarifa/DF$M_mins, na.rm = T),2)
round(mean(DF$M_tarifa/DF$M_mins, na.rm = T),2)
round(mean(DF$T_tarifa/DF$T_mins, na.rm = T),2)
round(mean(DF$N_tarifa/DF$N_mins, na.rm = T),2)
boxplot(  DF$M_tarifa
, DF$T_tarifa
, DF$N_tarifa
, main = "Boxplots de tiempo de llamadas en el mes"
, col = c("lightskyblue3", "sandybrown", "deepskyblue4")
, xlab = "Tiempo (m)"
, names = c("M", "T", "N")
, horizontal = TRUE
)
boxplot(  DF$M_tarifa
, DF$T_tarifa
, DF$N_tarifa
, main = "Tarifa de las llamadas"
, col = c("lightskyblue3", "sandybrown", "deepskyblue4")
, xlab = "Tiempo (m)"
, names = c("M", "T", "N")
, horizontal = TRUE
)
DF_salen<-DF[DF$permanencia==T,]
DF_quedan<-DF[DF$permanencia==F,]
boxplot(  DF_quedan$M_costo
, DF_salen$M_costo
, main = "Boxplot de costo en la mañana"
, col = c( "navajowhite3", "rosybrown3")
, xlab = "Número de llamadas"
, names = c("DF_quedan", "DF_salen")
, horizontal = TRUE
)
boxplot(  DF_quedan$M_tarifa
, DF_salen$M_tarifa
, main = "Boxplot de costo en la mañana"
, col = c( "navajowhite3", "rosybrown3")
, xlab = "Número de llamadas"
, names = c("DF_quedan", "DF_salen")
, horizontal = TRUE
)
median(DF_quedan$operador)
median(DF_salen$operador)
boxplot(  DF_quedan$M_tarifa
, DF_salen$M_tarifa
, main = "Boxplot de la tarifa en la mañana"
, col = c( "navajowhite3", "rosybrown3")
, xlab = "Tarifa"
, names = c("DF_quedan", "DF_salen")
, horizontal = TRUE
)
mean(DF_quedan$M_tarifa)
boxplot(  DF_quedan$M_tarifa
, DF_salen$M_tarifa
, main = "Boxplot de la tarifa en la mañana"
, col = c( "navajowhite3", "rosybrown3")
, xlab = "Tarifa"
, names = c("DF_quedan", "DF_salen")
, horizontal = TRUE
)
boxplot(  DF_quedan$M_tarifa
, DF_salen$M_tarifa
, main = "Boxplot de la tarifa en la mañana"
, col = c( "navajowhite3", "rosybrown3")
, xlab = "Tarifa"
, names = c("DF_quedan", "DF_salen")
, horizontal = TRUE
)
mean(DF_salen)
mean(DF_salen, na.rm=T)
mean(DF_salen$M_tarifa, na.rm=T)
mean(DF_salen$M_tarifa)
boxplot(  DF_quedan$M_tarifa
, DF_salen$M_tarifa
, main = "Boxplot de la tarifa en la mañana"
, col = c( "navajowhite3", "rosybrown3")
, xlab = "Tarifa"
, names = c("DF_quedan", "DF_salen")
, horizontal = TRUE
)
media_t <- mean(DF_salen$M_tarifa)
z <- 1.96     #95%
#numero de casos (n)
num <- length(DF_salen$M_tarifa)
desviacion_t <- sd(DF_salen$M_tarifa)
#error estándar
error_t <- desviacion/sqrt(num)
media_t <- mean(DF_salen$M_tarifa)
z <- 1.96     #95%
#numero de casos (n)
n_t <- length(DF_salen$M_tarifa)
desviacion_t <- sd(DF_salen$M_tarifa)
#error estándar
error_t <- desviacion_t/sqrt(num)
#limite inferior
lim_inf_t <- media - (z*errorst)
media_t <- mean(DF_salen$M_tarifa)
z <- 1.96     #95%
#numero de casos (n)
n_t <- length(DF_salen$M_tarifa)
desviacion_t <- sd(DF_salen$M_tarifa)
#error estándar
error_t <- desviacion_t/sqrt(num)
#limite inferior
lim_inf_t <- media - (z*error_t)
#limite superior
lim_sup_t <- media + (z*error_t)
intervalo_t <- data.frame(n_t, media_t, desviacion_t, z, error_t, lim_inf_t, lim_sup_t)
intervalo_t
intervalo_t
View(intervalo_t)
boxplot(  DF_quedan$operador
, DF_salen$operador
, main = "Boxplot de Número de llamadas a la central"
, col = c( "navajowhite3", "rosybrown3")
, xlab = "Número de llamadas"
, names = c("DF_quedan", "DF_salen")
, horizontal = TRUE
)
mean(DF_salen$operador)
media <- mean(DF_salen$operador)
z <- 1.96     #95%
#numero de casos (n)
length(DF_salen$operador)
n <- length(DF_salen$operador)
sd(DF_salen$operador)
desviacion <- sd(DF_salen$operador)
#error estandar
errorst <- desviacion/sqrt(n)
#limite inferior
lim_inf <- media - (z*errorst)
#limite superior
lim_sup <- media + (z*errorst)
interval_m <- data.frame(n, media, desviacion, z, errorst, lim_inf, lim_sup)
interval_m
interval_m <- data.frame(n, media, desviacion, z, errorst, lim_inf, lim_sup)
interval_m
View(interval_m)
View(interval_m)
mean(DF_quedan$operador)
media <- mean(DF_quedan$operador)
z <- 1.96     #95%
#numero de casos (n)
length(DF_quedan$operador)
n <- length(DF_quedan$operador)
sd(DF_quedan$operador)
desviacion <- sd(DF_quedan$operador)
#error estandar
errorst <- desviacion/sqrt(n)
#limite inferior
lim_inf <- media - (z*errorst)
#limite superior
lim_sup <- media + (z*errorst)
interval_2 <- data.frame(n, media, desviacion, z, errorst, lim_inf, lim_sup)
interval_2
View(intervalo_t)
z <- 1.96
#numero de casos (n)
n <- length(DF_salen$operador)
desviacion <- sd(DF_salen$operador)
#error estandar
precision <- (desviacion/sqrt(n))*z
precision
z <- 1.96
#numero de casos (n)
n <- length(DF_quedan$operador)
desviacion <- sd(DF_quedan$operador)
#error estandar
precision <- (desviacion/sqrt(n))*z
precision
library(readr)
library(dplyr)
DF<-read_csv("churn7.csv")
DF_salen <- filter(DF, DF$fuga == "TRUE")
DF_quedan <- filter(DF, DF$fuga == "FALSE")
plot(modeloR2)
modeloR2 <- lm(DFCorR2_salen$operador ~ DFCorR2_salen$M_tarifa)
library(readr)
library(dplyr)
DF<-read_csv("churn7.csv")
DF_salen <- filter(DF, DF$fuga == "TRUE")
DF_quedan <- filter(DF, DF$fuga == "FALSE")
DF_filt1 <-DF_salen[(DF_salen$M_mins>70) & (DF_salen$M_mins>175 | DF_salen$edad>47) & (DF_salen$M_mins>260 | DF_salen$edad>35) & (DF_salen$M_mins<240 | DF_salen$edad<42),]
#cor(DF_filt1$M_mins, DF_filt1$edad)
knitr::include_graphics("R1.JPG")
lmf_mm_er <- lm(DF_filt1$M_mins ~  DF_filt1$edad)
# Creamos el gráfico
plot(DF_filt1$M_mins, DF_filt1$edad)
summary(lmf_mm_er)
DFCorR2_salen <- DF_salen[(DF_salen$M_tarifa>35 | DF_salen$operador>2.3) & (DF_salen$operador<7), ]
correlacionR2 <- cor(DFCorR2_salen$M_tarifa, DFCorR2_salen$operador)
modeloR2 <- lm(DFCorR2_salen$operador ~ DFCorR2_salen$M_tarifa)
plot(modeloR2)
# Creamos el gráfico
plot(DFCorR2_salen$M_tarifa, DFCorR2_salen$operador)
# Línea de regresión
abline(modeloR2, col = "red", lwd = 3)
# Correlación de Pearson
text(paste("Correlación:", round(correlacionR2, 2)), x = 25, y = 95)
knitr::include_graphics("R2.JPG")
summary(modeloR2)
library(ggplot2)
